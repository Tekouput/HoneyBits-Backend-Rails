  [1m[35m (304.6ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (367.8ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateUsers (20180405154206)
  [1m[35m (250.4ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180405154206')[0m
  [1m[35m (29.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2018-04-05 15:48:56', '2018-04-05 15:48:56')[0m
  [1m[35m (42.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddingDataToUsers (20180405155210)
  [1m[35m (518.7ms)[0m  [1m[35mALTER TABLE `users` ADD `first_name` varchar(255)[0m
  [1m[35m (456.8ms)[0m  [1m[35mALTER TABLE `users` ADD `last_name` varchar(255)[0m
  [1m[35m (542.0ms)[0m  [1m[35mALTER TABLE `users` ADD `birthday` date[0m
  [1m[35m (756.3ms)[0m  [1m[35mALTER TABLE `users` ADD `sex` varchar(255)[0m
  [1m[35m (401.0ms)[0m  [1m[35mALTER TABLE `users` ADD `email` varchar(255)[0m
  [1m[35m (445.5ms)[0m  [1m[35mALTER TABLE `users` ADD `password_digest` varchar(255)[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180405155210')[0m
  [1m[35m (80.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (1.7ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (1.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddingTimeStampForUser (20180405155415)
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE `users` ADD `first_name` varchar(255)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddingTimeStampForUser (20180405155415)
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE `users` ADD `created_at` datetime NOT NULL[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
Started POST "/users" for 127.0.0.1 at 2018-04-06 01:22:48 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#create as */*
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` IS NULL LIMIT 1[0m
Completed 400 Bad Request in 44ms (Views: 0.5ms | ActiveRecord: 9.4ms)


Started POST "/users" for 127.0.0.1 at 2018-04-06 01:23:50 +0900
Processing by UsersController#create as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
Completed 400 Bad Request in 18ms (Views: 0.6ms | ActiveRecord: 1.0ms)


Started POST "/users" for 127.0.0.1 at 2018-04-06 01:24:56 +0900
Processing by UsersController#create as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)


  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:3:in `<class:User>'
app/models/user.rb:2:in `<top (required)>'
app/controllers/users_controller.rb:6:in `create'
Started POST "/users" for 127.0.0.1 at 2018-04-06 01:26:47 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#create as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `users` (`created_at`, `updated_at`, `email`, `password_digest`) VALUES ('2018-04-05 16:26:48', '2018-04-05 16:26:48', 'hectortest@outlook.com', '$2a$10$8KVTy5ZVCMHOxzn4xraBw.C5EddhxsjecZbVTt3hWSvgiQKfkf1s2')[0m
  [1m[35m (59.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 183ms (Views: 0.9ms | ActiveRecord: 64.1ms)


Started POST "/users" for 127.0.0.1 at 2018-04-06 01:28:23 +0900
Processing by UsersController#create as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
Completed 400 Bad Request in 32ms (Views: 0.4ms | ActiveRecord: 0.8ms)


Started POST "/users" for 127.0.0.1 at 2018-04-06 01:29:10 +0900
Processing by UsersController#create as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO `users` (`created_at`, `updated_at`, `email`, `password_digest`) VALUES ('2018-04-05 16:29:10', '2018-04-05 16:29:10', 'hectortest@outlook.com', '$2a$10$t.HKyCOrLdgi5KQqJ8wJmuqzTo68n/Z2yIbx2oK.xrj.e0jm7IHoW')[0m
  [1m[35m (55.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 156ms (Views: 0.5ms | ActiveRecord: 59.7ms)


Started POST "/users" for 127.0.0.1 at 2018-04-06 01:29:52 +0900
Processing by UsersController#create as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"Hector", "last_name"=>"Acosta"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
Completed 400 Bad Request in 3ms (Views: 0.4ms | ActiveRecord: 0.7ms)


Started POST "/users" for 127.0.0.1 at 2018-04-06 01:33:48 +0900
Processing by UsersController#create as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"Hector", "last_name"=>"Acosta", "birthday"=>"1997-06-03", "sex"=>"Male"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `users` (`created_at`, `updated_at`, `first_name`, `last_name`, `birthday`, `sex`, `email`, `password_digest`) VALUES ('2018-04-05 16:33:49', '2018-04-05 16:33:49', 'Hector', 'Acosta', '1997-06-03', 'Male', 'hectortest@outlook.com', '$2a$10$ZtnC9ODHeSrVC.IL905UCey.DE5uMQrcsIlPkbk777wretULP1e9y')[0m
  [1m[35m (52.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 218ms (Views: 0.8ms | ActiveRecord: 54.7ms)


Started GET "/fff" for 127.0.0.1 at 2018-04-06 01:42:45 +0900
  
ActionController::RoutingError (No route matches [GET] "/fff"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2018-04-06 01:42:45 +0900
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/fff.html" for 127.0.0.1 at 2018-04-06 01:42:56 +0900
  
ActionController::RoutingError (No route matches [GET] "/fff.html"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-04-06 01:43:01 +0900
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /home/hectorandac/.rbenv/versions/2.4.2/lib/ruby/gems/2.4.0/gems/railties-5.0.7/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/hectorandac/.rbenv/versions/2.4.2/lib/ruby/gems/2.4.0/gems/railties-5.0.7/lib/rails/templates/rails/welcome/index.html.erb (19.6ms)
Completed 200 OK in 64ms (Views: 48.7ms | ActiveRecord: 0.0ms)


Started GET "/users" for 127.0.0.1 at 2018-04-06 01:43:08 +0900
Processing by UsersController#show as HTML
Completed 204 No Content in 1ms (ActiveRecord: 0.0ms)


Started GET "/usersss" for 127.0.0.1 at 2018-04-06 01:43:13 +0900
  
ActionController::RoutingError (No route matches [GET] "/usersss"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/token" for 127.0.0.1 at 2018-04-06 01:43:48 +0900
  
ActionController::RoutingError (uninitialized constant UserController):
  
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.7) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/token" for 127.0.0.1 at 2018-04-06 01:44:04 +0900
Processing by UsersController#token as */*
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.0ms)


  
LoadError (cannot load such file -- json_web_token):
  
app/commands/authorize_api_request.rb:1:in `<top (required)>'
app/controllers/application_controller.rb:7:in `authenticate_request'
Started GET "/users/token" for 127.0.0.1 at 2018-04-06 01:45:42 +0900
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started POST "/users/token" for 127.0.0.1 at 2018-04-06 01:46:46 +0900
Processing by UsersController#token as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]"}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started POST "/users/token" for 127.0.0.1 at 2018-04-06 01:47:54 +0900
Processing by UsersController#token as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m  [["email", "hectortest@outlook.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m  [["email", "hectortest@outlook.com"], ["LIMIT", 1]]
Completed 200 OK in 342ms (Views: 0.6ms | ActiveRecord: 5.6ms)


Started POST "/users" for 127.0.0.1 at 2018-04-06 01:49:55 +0900
Processing by UsersController#create as */*
  Parameters: {"email"=>"hectortest2@outlook.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"Hector", "last_name"=>"Acosta", "birthday"=>"1997-06-03", "sex"=>"Male"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest2@outlook.com' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `users` (`created_at`, `updated_at`, `first_name`, `last_name`, `birthday`, `sex`, `email`, `password_digest`) VALUES ('2018-04-05 16:49:55', '2018-04-05 16:49:55', 'Hector', 'Acosta', '1997-06-03', 'Male', 'hectortest2@outlook.com', '$2a$10$DfHepL7a81PMtjhuwsxcdeHEA7M7uzNUBtfP1./qhVGGTYifXcV3G')[0m
  [1m[35m (87.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 188ms (Views: 1.7ms | ActiveRecord: 89.8ms)


Started GET "/users" for 127.0.0.1 at 2018-04-06 02:01:03 +0900
Processing by UsersController#show as */*
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `simple_info' for nil:NilClass):
  
app/controllers/users_controller.rb:45:in `show'
Started GET "/users" for 127.0.0.1 at 2018-04-06 02:06:10 +0900
Processing by UsersController#show as */*
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = NULL LIMIT 1[0m
Completed 400 Bad Request in 14ms (Views: 0.4ms | ActiveRecord: 3.4ms)


Started GET "/users" for 127.0.0.1 at 2018-04-06 02:08:25 +0900
Processing by UsersController#show as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = NULL LIMIT 1[0m
Completed 400 Bad Request in 9ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at 2018-04-06 02:17:25 +0900
Processing by UsersController#show as */*
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
Completed 200 OK in 24ms (Views: 0.7ms | ActiveRecord: 1.3ms)


Started GET "/users?user_id=%203" for 127.0.0.1 at 2018-04-06 02:18:17 +0900
Processing by UsersController#show as */*
  Parameters: {"user_id"=>" 3"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 1.0ms)


Started GET "/users?user_id=%203" for 127.0.0.1 at 2018-04-06 02:18:49 +0900
Processing by UsersController#show as */*
  Parameters: {"user_id"=>" 3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 39ms (Views: 0.5ms | ActiveRecord: 4.2ms)


Started GET "/users" for 127.0.0.1 at 2018-04-06 02:21:24 +0900
Processing by UsersController#show as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 1.5ms)


Started GET "/users" for 127.0.0.1 at 2018-04-06 02:22:30 +0900
Processing by UsersController#show as */*
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 400 Bad Request in 28ms (Views: 0.3ms | ActiveRecord: 3.2ms)


Started GET "/users" for 127.0.0.1 at 2018-04-06 02:23:51 +0900
Processing by UsersController#show as */*
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 25ms (Views: 0.6ms | ActiveRecord: 1.1ms)


Started GET "/users" for 127.0.0.1 at 2018-04-06 02:24:00 +0900
Processing by UsersController#show as */*
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
Completed 500 Internal Server Error in 7ms (Views: 0.4ms | ActiveRecord: 1.2ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/users_controller.rb:51:in `rescue in show'
app/controllers/users_controller.rb:45:in `show'
Started GET "/users" for 127.0.0.1 at 2018-04-06 02:27:18 +0900
Processing by UsersController#show as */*
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
Completed 200 OK in 30ms (Views: 0.7ms | ActiveRecord: 4.6ms)


Started GET "/users" for 127.0.0.1 at 2018-04-06 02:27:24 +0900
Processing by UsersController#show as */*
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started GET "/users?user_id=%203" for 127.0.0.1 at 2018-04-06 02:27:33 +0900
Processing by UsersController#show as */*
  Parameters: {"user_id"=>" 3"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 1.1ms)


Started GET "/users?user_id=%203" for 127.0.0.1 at 2018-04-06 02:27:38 +0900
Processing by UsersController#show as */*
  Parameters: {"user_id"=>" 3"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.9ms)


Started GET "/users?user_id=%204" for 127.0.0.1 at 2018-04-06 02:27:55 +0900
Processing by UsersController#show as */*
  Parameters: {"user_id"=>" 4"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.6ms)


  [1m[35m (542.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (230.1ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (32.0ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateUsers (20180405154206)
  [1m[35m (310.7ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `birthday` date, `sex` varchar(255), `email` varchar(255), `password_digest` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180405154206')[0m
  [1m[35m (50.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateLoans (20180412220616)
  [1m[35m (23.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateLoans (20180412220616)
  [1m[35m (193.8ms)[0m  [1m[35mCREATE TABLE `loans` (`id` int AUTO_INCREMENT PRIMARY KEY, `amount` decimal(20,2), `due_date` date, `rate` float, `rate_type` int, `customer_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180412220616')[0m
  [1m[35m (53.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (23.0ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2018-04-13 03:41:07', '2018-04-13 03:41:07')[0m
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW CREATE TABLE `loans`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'loans'[0m
  [1m[35m (0.0ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.0ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (69.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateCustomers (20180413034910)
  [1m[35m (506.4ms)[0m  [1m[35mCREATE TABLE `customers` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `legal_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (9.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180413034910')[0m
  [1m[35m (28.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateContacts (20180413035213)
  [1m[35m (319.7ms)[0m  [1m[35mCREATE TABLE `contacts` (`id` int AUTO_INCREMENT PRIMARY KEY, `tag` varchar(255), `info` varchar(255), `entity_type` varchar(255), `entity_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180413035213')[0m
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.0ms)[0m  [1m[35mSHOW CREATE TABLE `contacts`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'contacts'[0m
  [1m[35m (0.0ms)[0m  [1m[35mSHOW CREATE TABLE `customers`[0m
  [1m[35m (10.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'customers'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `loans`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'loans'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/users" for 127.0.0.1 at 2018-04-13 06:01:34 -0700
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#show as */*
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)


  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:3:in `<class:User>'
app/models/user.rb:2:in `<top (required)>'
app/controllers/users_controller.rb:44:in `show'
Started GET "/users" for 127.0.0.1 at 2018-04-13 06:08:11 -0700
  [1m[36mActiveRecord::SchemaMigration Load (12.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#show as */*
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)


  
LoadError (cannot load such file -- bcrypt):
  
app/models/user.rb:3:in `<class:User>'
app/models/user.rb:2:in `<top (required)>'
app/controllers/users_controller.rb:44:in `show'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (55.9ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (63.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateLoans (20180412220616)
  [1m[35m (1358.2ms)[0m  [1m[35mCREATE TABLE `loans` (`id` int AUTO_INCREMENT PRIMARY KEY, `amount` decimal(20,2), `due_date` date, `rate` float, `rate_type` int, `customer_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (21.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (47.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180412220616')[0m
  [1m[35m (116.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20180413034910)
  [1m[35m (670.5ms)[0m  [1m[35mCREATE TABLE `customers` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `legal_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180413034910')[0m
  [1m[35m (48.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateContacts (20180413035213)
  [1m[35m (566.7ms)[0m  [1m[35mCREATE TABLE `contacts` (`id` int AUTO_INCREMENT PRIMARY KEY, `tag` varchar(255), `info` varchar(255), `entity_type` varchar(255), `entity_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180413035213')[0m
  [1m[35m (33.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (16.5ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (17.1ms)[0m  [1m[35mSHOW CREATE TABLE `contacts`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'contacts'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `customers`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'customers'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `loans`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'loans'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (8.5ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT GET_LOCK('1708429625207641455', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddUserIdToLoan (20180414043154)
  [1m[35m (1059.1ms)[0m  [1m[35mALTER TABLE `loans` ADD `user_id` varchar(255)[0m
  [1m[35m (9.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180414043154')[0m
  [1m[35m (68.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('1708429625207641455')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW CREATE TABLE `contacts`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'contacts'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `customers`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'customers'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `loans`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'loans'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started POST "/users/token" for 127.0.0.1 at 2018-04-14 20:24:57 +0900
  [1m[36mActiveRecord::SchemaMigration Load (11.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
Completed 400 Bad Request in 335ms (Views: 0.5ms | ActiveRecord: 92.1ms)


Started POST "/users/token" for 127.0.0.1 at 2018-04-14 20:30:43 +0900
Processing by UsersController#token as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (166.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
Completed 400 Bad Request in 341ms (Views: 0.4ms | ActiveRecord: 166.9ms)


Started POST "/users/token" for 127.0.0.1 at 2018-04-14 20:31:13 +0900
  [1m[36mActiveRecord::SchemaMigration Load (21.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (16.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
Completed 400 Bad Request in 248ms (Views: 0.6ms | ActiveRecord: 30.6ms)


Started POST "/users/token" for 127.0.0.1 at 2018-04-14 20:32:34 +0900
Processing by UsersController#token as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
Completed 400 Bad Request in 116ms (Views: 0.5ms | ActiveRecord: 1.1ms)


Started POST "/users/token" for 127.0.0.1 at 2018-04-14 20:32:54 +0900
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectortest@outlook.com' LIMIT 1[0m
Completed 400 Bad Request in 171ms (Views: 1.4ms | ActiveRecord: 5.7ms)


Started POST "/users/token" for 127.0.0.1 at 2018-04-14 20:34:32 +0900
Processing by UsersController#token as */*
  Parameters: {"email"=>"hectortest@outlook.com", "password"=>"[FILTERED]"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
LoadError (cannot load such file -- JsonWebToken):
  
app/commands/authenticate_user.rb:1:in `<top (required)>'
app/controllers/users_controller.rb:25:in `token'
Started GET "/users" for 127.0.0.1 at 2018-04-14 21:19:33 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
  
ArgumentError (Before process_action callback :authenticate_request has not been defined):
  
app/controllers/users_controller.rb:3:in `<class:UsersController>'
app/controllers/users_controller.rb:2:in `<top (required)>'
Started GET "/users" for 127.0.0.1 at 2018-04-14 21:19:58 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by UsersController#show as */*
  [1m[36mUser Load (316.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (307.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 3 LIMIT 1[0m
Completed 200 OK in 788ms (Views: 23.7ms | ActiveRecord: 623.6ms)


Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 21:30:43 +0900
  
ActionController::RoutingError (No route matches [POST] "/users/loans"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 21:31:14 +0900
  
ActionController::RoutingError (uninitialized constant LoansController):
  
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.7) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/loan" for 127.0.0.1 at 2018-04-14 21:31:30 +0900
  
ActionController::RoutingError (uninitialized constant LoansController):
  
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.7) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/loan" for 127.0.0.1 at 2018-04-14 21:31:42 +0900
  
ActionController::RoutingError (uninitialized constant LoansController):
  
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.7) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/loan" for 127.0.0.1 at 2018-04-14 21:32:21 +0900
  [1m[36mActiveRecord::SchemaMigration Load (75.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
ActionController::RoutingError (uninitialized constant LoansController):
  
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.7) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/loan" for 127.0.0.1 at 2018-04-14 21:33:09 +0900
  
ActionController::RoutingError (No route matches [POST] "/users/loan"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 21:33:31 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` ORDER BY `customers`.`id` ASC LIMIT 1[0m
  [1m[35m (17.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 618ms (ActiveRecord: 537.3ms)


  
ActiveRecord::RecordInvalid (Validation failed: Loan must exist):
  
app/controllers/loans_controller.rb:5:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 21:34:11 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` ORDER BY `customers`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (142.2ms)[0m  [1m[32mINSERT INTO `customers` (`created_at`, `updated_at`) VALUES ('2018-04-14 12:34:11', '2018-04-14 12:34:11')[0m
  [1m[35m (154.8ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 367ms (ActiveRecord: 316.9ms)


  
NoMethodError (undefined method `each' for nil:NilClass):
  
app/controllers/loans_controller.rb:11:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 21:34:31 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (17.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` ORDER BY `customers`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (26.9ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '1', '2018-04-14 12:34:32', '2018-04-14 12:34:32')[0m
  [1m[35m (168.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '1', '2018-04-14 12:34:32', '2018-04-14 12:34:32')[0m
  [1m[35m (55.5ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 869ms (ActiveRecord: 455.0ms)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `loan_id`):
  
app/controllers/loans_controller.rb:19:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 21:38:23 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (31.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (10.5ms)[0m  [1m[32mINSERT INTO `customers` (`created_at`, `updated_at`) VALUES ('2018-04-14 12:38:23', '2018-04-14 12:38:23')[0m
  [1m[35m (109.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (37.7ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '2', '2018-04-14 12:38:23', '2018-04-14 12:38:23')[0m
  [1m[35m (76.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (21.8ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '2', '2018-04-14 12:38:23', '2018-04-14 12:38:23')[0m
  [1m[35m (116.6ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 523ms (ActiveRecord: 404.5ms)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `loan_id`):
  
app/controllers/loans_controller.rb:19:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 21:41:29 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (32.0ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`) VALUES ('hola', 'como', '123456789876', '2018-04-14 12:41:29', '2018-04-14 12:41:29')[0m
  [1m[35m (37.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '3', '2018-04-14 12:41:29', '2018-04-14 12:41:29')[0m
  [1m[35m (27.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '3', '2018-04-14 12:41:29', '2018-04-14 12:41:29')[0m
  [1m[35m (57.6ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 288ms (ActiveRecord: 158.8ms)


  
ActiveModel::MissingAttributeError (can't write unknown attribute `loan_id`):
  
app/controllers/loans_controller.rb:19:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 21:43:30 +0900
  [1m[36mActiveRecord::SchemaMigration Load (28.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (35.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (10.8ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`) VALUES ('hola', 'como', '123456789876', '2018-04-14 12:43:32', '2018-04-14 12:43:32')[0m
  [1m[35m (140.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '4', '2018-04-14 12:43:32', '2018-04-14 12:43:32')[0m
  [1m[35m (31.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '4', '2018-04-14 12:43:32', '2018-04-14 12:43:32')[0m
  [1m[35m (60.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (16.3ms)[0m  [1m[32mINSERT INTO `loans` (`amount`, `due_date`, `rate`, `rate_type`, `created_at`, `updated_at`, `user_id`) VALUES (20000000.0, '2018-06-03', 0.21, 0, '2018-04-14 12:43:32', '2018-04-14 12:43:32', '3')[0m
  [1m[35mSQL (29.8ms)[0m  [1m[33mUPDATE `customers` SET `loan_id` = '1' WHERE `customers`.`id` = 4[0m
  [1m[35m (47.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '4' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 500 Internal Server Error in 812ms (ActiveRecord: 483.3ms)


  
NoMethodError (undefined method `number_to_currency' for #<Loan:0x00007f92242c93c8>):
  
app/models/loan.rb:10:in `simple_info'
app/controllers/loans_controller.rb:27:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 22:36:05 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (559.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (284.8ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`) VALUES ('hola', 'como', '123456789876', '2018-04-14 13:36:17', '2018-04-14 13:36:17')[0m
  [1m[35m (554.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (79.7ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '5', '2018-04-14 13:36:18', '2018-04-14 13:36:18')[0m
  [1m[35m (247.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '5', '2018-04-14 13:36:19', '2018-04-14 13:36:19')[0m
  [1m[35m (72.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (169.3ms)[0m  [1m[32mINSERT INTO `loans` (`amount`, `due_date`, `rate`, `rate_type`, `created_at`, `updated_at`, `user_id`) VALUES (20000000.0, '2018-06-03', 0.21, 0, '2018-04-14 13:36:19', '2018-04-14 13:36:19', '3')[0m
  [1m[35mSQL (319.4ms)[0m  [1m[33mUPDATE `customers` SET `updated_at` = '2018-04-14 13:36:19', `loan_id` = '2' WHERE `customers`.`id` = 5[0m
  [1m[35m (427.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (0.9ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '5' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 500 Internal Server Error in 3201ms (ActiveRecord: 2717.5ms)


  
TypeError (expected numeric):
  
app/models/loan.rb:17:in `simple_info'
app/controllers/loans_controller.rb:27:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 22:39:13 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (28.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`) VALUES ('hola', 'como', '123456789876', '2018-04-14 13:39:13', '2018-04-14 13:39:13')[0m
  [1m[35m (135.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '6', '2018-04-14 13:39:13', '2018-04-14 13:39:13')[0m
  [1m[35m (56.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '6', '2018-04-14 13:39:13', '2018-04-14 13:39:13')[0m
  [1m[35m (76.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `loans` (`amount`, `due_date`, `rate`, `rate_type`, `created_at`, `updated_at`, `user_id`) VALUES (20000000.0, '2018-06-03', 0.21, 0, '2018-04-14 13:39:13', '2018-04-14 13:39:13', '3')[0m
  [1m[35mSQL (13.1ms)[0m  [1m[33mUPDATE `customers` SET `loan_id` = '3' WHERE `customers`.`id` = 6[0m
  [1m[35m (44.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (1.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '6' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 500 Internal Server Error in 586ms (ActiveRecord: 361.8ms)


  
TypeError (ActiveSupport::TimeWithZone can't be coerced into Integer):
  
app/models/loan.rb:17:in `simple_info'
app/controllers/loans_controller.rb:27:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 22:41:05 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (13.2ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`) VALUES ('hola', 'como', '123456789876', '2018-04-14 13:41:05', '2018-04-14 13:41:05')[0m
  [1m[35m (42.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '7', '2018-04-14 13:41:05', '2018-04-14 13:41:05')[0m
  [1m[35m (35.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '7', '2018-04-14 13:41:05', '2018-04-14 13:41:05')[0m
  [1m[35m (35.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `loans` (`amount`, `due_date`, `rate`, `rate_type`, `created_at`, `updated_at`, `user_id`) VALUES (20000000.0, '2018-06-03', 0.21, 0, '2018-04-14 13:41:05', '2018-04-14 13:41:05', '3')[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE `customers` SET `loan_id` = '4' WHERE `customers`.`id` = 7[0m
  [1m[35m (53.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (0.5ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '7' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 500 Internal Server Error in 368ms (ActiveRecord: 189.5ms)


  
TypeError (Date can't be coerced into Integer):
  
app/models/loan.rb:17:in `simple_info'
app/controllers/loans_controller.rb:27:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 22:41:48 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (230.5ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`) VALUES ('hola', 'como', '123456789876', '2018-04-14 13:41:48', '2018-04-14 13:41:48')[0m
  [1m[35m (55.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (31.6ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '8', '2018-04-14 13:41:48', '2018-04-14 13:41:48')[0m
  [1m[35m (85.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (41.7ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '8', '2018-04-14 13:41:48', '2018-04-14 13:41:48')[0m
  [1m[35m (167.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (43.3ms)[0m  [1m[32mINSERT INTO `loans` (`amount`, `due_date`, `rate`, `rate_type`, `created_at`, `updated_at`, `user_id`) VALUES (20000000.0, '2018-06-03', 0.21, 0, '2018-04-14 13:41:49', '2018-04-14 13:41:49', '3')[0m
  [1m[35mSQL (11.2ms)[0m  [1m[33mUPDATE `customers` SET `updated_at` = '2018-04-14 13:41:49', `loan_id` = '5' WHERE `customers`.`id` = 8[0m
  [1m[35m (147.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (1.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '8' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 500 Internal Server Error in 1100ms (ActiveRecord: 817.5ms)


  
NoMethodError (undefined method `number_to_currency' for #<Loan:0x00007f922475b148>):
  
app/models/loan.rb:19:in `simple_info'
app/controllers/loans_controller.rb:27:in `create'
Started POST "/users/loans" for 127.0.0.1 at 2018-04-14 22:42:55 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (14.4ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`) VALUES ('hola', 'como', '123456789876', '2018-04-14 13:42:55', '2018-04-14 13:42:55')[0m
  [1m[35m (60.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (34.7ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '9', '2018-04-14 13:42:55', '2018-04-14 13:42:55')[0m
  [1m[35m (56.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '9', '2018-04-14 13:42:55', '2018-04-14 13:42:55')[0m
  [1m[35m (38.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (17.9ms)[0m  [1m[32mINSERT INTO `loans` (`amount`, `due_date`, `rate`, `rate_type`, `created_at`, `updated_at`, `user_id`) VALUES (20000000.0, '2018-06-03', 0.21, 0, '2018-04-14 13:42:55', '2018-04-14 13:42:55', '3')[0m
  [1m[35mSQL (39.9ms)[0m  [1m[33mUPDATE `customers` SET `loan_id` = '6' WHERE `customers`.`id` = 9[0m
  [1m[35m (103.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (1.0ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '9' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 517ms (Views: 1.7ms | ActiveRecord: 370.2ms)


Started GET "/users/loans" for 127.0.0.1 at 2018-04-14 22:52:14 +0900
Processing by LoansController#show as */*
  Parameters: {"loan"=>{}}
  [1m[36mUser Load (393.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mLoan Load (70.7ms)[0m  [1m[34mSELECT `loans`.* FROM `loans` WHERE `loans`.`user_id` = '3'[0m
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '1' LIMIT 1[0m
  [1m[36mContact Load (1.4ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '4' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '2' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '5' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '3' LIMIT 1[0m
  [1m[36mContact Load (0.5ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '6' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '4' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '7' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '5' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '8' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '6' LIMIT 1[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '9' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 693ms (Views: 19.5ms | ActiveRecord: 472.1ms)


Started GET "/users/loans" for 127.0.0.1 at 2018-04-14 23:09:02 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by LoansController#show as */*
  Parameters: {"loan"=>{}}
  [1m[36mUser Load (14.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mLoan Load (0.7ms)[0m  [1m[34mSELECT `loans`.* FROM `loans` WHERE `loans`.`user_id` = '3'[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '1' LIMIT 1[0m
  [1m[36mContact Load (0.8ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '4' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '2' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '5' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '3' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '6' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '4' LIMIT 1[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '7' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '5' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '8' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (11.7ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '6' LIMIT 1[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '9' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 801ms (Views: 7.4ms | ActiveRecord: 2823.0ms)


Started GET "/users/customers" for 127.0.0.1 at 2018-04-14 23:17:11 +0900
  
ActionController::RoutingError (No route matches [GET] "/users/customers"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/customers" for 127.0.0.1 at 2018-04-14 23:17:44 +0900
  
ActionController::RoutingError (uninitialized constant CustomersController):
  
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.7) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/customers" for 127.0.0.1 at 2018-04-14 23:18:04 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
  
AbstractController::ActionNotFound (The action 'index' could not be found for CustomersController):
  
actionpack (5.0.7) lib/abstract_controller/base.rb:121:in `process'
actionpack (5.0.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.7) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/customers" for 127.0.0.1 at 2018-04-14 23:18:43 +0900
  [1m[36mActiveRecord::SchemaMigration Load (182.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
  
AbstractController::ActionNotFound (The action 'index' could not be found for CustomersController):
  
actionpack (5.0.7) lib/abstract_controller/base.rb:121:in `process'
actionpack (5.0.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.7) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/customer" for 127.0.0.1 at 2018-04-14 23:19:43 +0900
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
  
AbstractController::ActionNotFound (The action 'index' could not be found for CustomerController):
  
actionpack (5.0.7) lib/abstract_controller/base.rb:121:in `process'
actionpack (5.0.7) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.7) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/customer" for 127.0.0.1 at 2018-04-14 23:20:04 +0900
  
ActionController::RoutingError (uninitialized constant CustomersController):
  
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.7) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/customer" for 127.0.0.1 at 2018-04-14 23:20:46 +0900
  
ActionController::RoutingError (No route matches [GET] "/users/customer"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/customers" for 127.0.0.1 at 2018-04-14 23:20:55 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by CustomersController#show as */*
  Parameters: {"customer"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 80ms (ActiveRecord: 35.2ms)


  
NoMethodError (undefined method `customers' for #<User:0x000055841e06e698>):
  
app/controllers/customers_controller.rb:14:in `show'
Started GET "/users/customers" for 127.0.0.1 at 2018-04-14 23:21:53 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by CustomersController#show as */*
  Parameters: {"customer"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT `customers`.* FROM `customers` WHERE `customers`.`user_id` = '3'[0m
Completed 200 OK in 125ms (Views: 30.3ms | ActiveRecord: 5.1ms)


Started GET "/users/loans" for 127.0.0.1 at 2018-04-14 23:22:24 +0900
Processing by LoansController#show as */*
  Parameters: {"loan"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mLoan Load (0.8ms)[0m  [1m[34mSELECT `loans`.* FROM `loans` WHERE `loans`.`user_id` = '3'[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '1' LIMIT 1[0m
  [1m[36mContact Load (0.9ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '4' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '2' LIMIT 1[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '5' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '3' LIMIT 1[0m
  [1m[36mContact Load (0.8ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '6' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.9ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '4' LIMIT 1[0m
  [1m[36mContact Load (1.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '7' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (1.2ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '5' LIMIT 1[0m
  [1m[36mContact Load (0.9ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '8' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '6' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '9' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 156ms (Views: 4.9ms | ActiveRecord: 16.7ms)


Started GET "/users/customers" for 127.0.0.1 at 2018-04-14 23:22:36 +0900
Processing by CustomersController#show as */*
  Parameters: {"customer"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT `customers`.* FROM `customers` WHERE `customers`.`user_id` = '3'[0m
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 1.2ms)


Started POST "/users/customers" for 127.0.0.1 at 2018-04-14 23:23:31 +0900
Processing by CustomersController#create as */*
  Parameters: {"customer"=>{"first_name"=>"Hector", "last_name"=>"Acosta", "legal_id"=>"123456789876"}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (95.4ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`, `user_id`) VALUES ('Hector', 'Acosta', '123456789876', '2018-04-14 14:23:31', '2018-04-14 14:23:31', '3')[0m
  [1m[35m (58.8ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 371ms (ActiveRecord: 155.1ms)


  
NameError (undefined local variable or method `ok' for #<CustomersController:0x000055841d9a2210>):
  
app/controllers/customers_controller.rb:10:in `create'
Started POST "/users/customers" for 127.0.0.1 at 2018-04-14 23:23:58 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by CustomersController#create as */*
  Parameters: {"customer"=>{"first_name"=>"Hector", "last_name"=>"Acosta", "legal_id"=>"123456789876"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (27.2ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`, `user_id`) VALUES ('Hector', 'Acosta', '123456789876', '2018-04-14 14:23:58', '2018-04-14 14:23:58', '3')[0m
  [1m[35m (51.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 161ms (Views: 1.2ms | ActiveRecord: 83.6ms)


Started POST "/users/customers" for 127.0.0.1 at 2018-04-14 23:25:47 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by CustomersController#create as */*
  Parameters: {"customer"=>{"first_name"=>"Hector", "last_name"=>"Acosta", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}]}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (18.3ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`, `user_id`) VALUES ('Hector', 'Acosta', '123456789876', '2018-04-14 14:25:47', '2018-04-14 14:25:47', '3')[0m
  [1m[35m (57.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.9ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '12', '2018-04-14 14:25:47', '2018-04-14 14:25:47')[0m
  [1m[35m (139.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (18.4ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '12', '2018-04-14 14:25:47', '2018-04-14 14:25:47')[0m
  [1m[35m (76.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 555ms (Views: 3.1ms | ActiveRecord: 453.4ms)


Started POST "/users/customers" for 127.0.0.1 at 2018-04-14 23:26:22 +0900
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/unicity-loan/app/controllers/application_controller.rb:3)
Processing by CustomersController#create as */*
  Parameters: {"customer"=>{"first_name"=>"Hector", "last_name"=>"Acosta", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}]}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (38.8ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`, `user_id`) VALUES ('Hector', 'Acosta', '123456789876', '2018-04-14 14:26:22', '2018-04-14 14:26:22', '3')[0m
  [1m[35m (57.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '13', '2018-04-14 14:26:22', '2018-04-14 14:26:22')[0m
  [1m[35m (35.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '13', '2018-04-14 14:26:22', '2018-04-14 14:26:22')[0m
  [1m[35m (37.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (0.8ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '13' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 282ms (Views: 0.7ms | ActiveRecord: 173.8ms)


Started GET "/users/customers" for 127.0.0.1 at 2018-04-14 23:27:30 +0900
Processing by CustomersController#show as */*
  Parameters: {"customer"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT `customers`.* FROM `customers` WHERE `customers`.`user_id` = '3'[0m
  [1m[36mContact Load (0.8ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '10' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '11' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '12' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '13' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 25ms (Views: 1.3ms | ActiveRecord: 3.6ms)


Started GET "/users/customers" for 127.0.0.1 at 2018-04-14 23:28:51 +0900
Processing by CustomersController#show as */*
  Parameters: {"customer"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT `customers`.* FROM `customers` WHERE `customers`.`user_id` = '3'[0m
  [1m[36mContact Load (0.9ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '10' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (1.0ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '11' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '12' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '13' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 28ms (Views: 1.6ms | ActiveRecord: 4.5ms)


Started GET "/users/loans" for 192.168.12.20 at 2018-04-14 23:41:51 +0900
Processing by LoansController#show as */*
  Parameters: {"loan"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mLoan Load (0.8ms)[0m  [1m[34mSELECT `loans`.* FROM `loans` WHERE `loans`.`user_id` = '3'[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '1' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '4' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '2' LIMIT 1[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '5' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '3' LIMIT 1[0m
  [1m[36mContact Load (0.9ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '6' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '4' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '7' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '5' LIMIT 1[0m
  [1m[36mContact Load (0.8ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '8' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT  `customers`.* FROM `customers` WHERE `customers`.`loan_id` = '6' LIMIT 1[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '9' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 84ms (Views: 3.8ms | ActiveRecord: 16.0ms)


Started POST "/users/loans" for 192.168.12.20 at 2018-04-14 23:43:25 +0900
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"hola", "last_name"=>"como", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>20000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (39.4ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`, `user_id`) VALUES ('hola', 'como', '123456789876', '2018-04-14 14:43:25', '2018-04-14 14:43:25', '3')[0m
  [1m[35m (95.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (27.1ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '14', '2018-04-14 14:43:25', '2018-04-14 14:43:25')[0m
  [1m[35m (122.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (59.5ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '14', '2018-04-14 14:43:25', '2018-04-14 14:43:25')[0m
  [1m[35m (48.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (51.1ms)[0m  [1m[32mINSERT INTO `loans` (`amount`, `due_date`, `rate`, `rate_type`, `created_at`, `updated_at`, `user_id`) VALUES (20000000.0, '2018-06-03', 0.21, 0, '2018-04-14 14:43:25', '2018-04-14 14:43:25', '3')[0m
  [1m[35mSQL (95.2ms)[0m  [1m[33mUPDATE `customers` SET `loan_id` = '7' WHERE `customers`.`id` = 14[0m
  [1m[35m (112.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '14' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 707ms (Views: 1.2ms | ActiveRecord: 655.7ms)


Started POST "/users/loans" for 192.168.12.20 at 2018-04-14 23:43:51 +0900
Processing by LoansController#create as */*
  Parameters: {"customer"=>{"first_name"=>"Hector", "last_name"=>"Acosta", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}], "amount"=>300000000, "due_date"=>"2018-06-03", "rate"=>0.21, "loan"=>{"amount"=>300000000, "due_date"=>"2018-06-03", "rate"=>0.21}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`, `user_id`) VALUES ('Hector', 'Acosta', '123456789876', '2018-04-14 14:43:51', '2018-04-14 14:43:51', '3')[0m
  [1m[35m (77.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (18.2ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '15', '2018-04-14 14:43:51', '2018-04-14 14:43:51')[0m
  [1m[35m (73.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (10.6ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '15', '2018-04-14 14:43:51', '2018-04-14 14:43:51')[0m
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (18.4ms)[0m  [1m[32mINSERT INTO `loans` (`amount`, `due_date`, `rate`, `rate_type`, `created_at`, `updated_at`, `user_id`) VALUES (300000000.0, '2018-06-03', 0.21, 0, '2018-04-14 14:43:51', '2018-04-14 14:43:51', '3')[0m
  [1m[35mSQL (73.6ms)[0m  [1m[33mUPDATE `customers` SET `loan_id` = '8' WHERE `customers`.`id` = 15[0m
  [1m[35m (134.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (1.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '15' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 513ms (Views: 2.0ms | ActiveRecord: 452.4ms)


Started GET "/users/customers" for 192.168.12.20 at 2018-04-14 23:45:08 +0900
Processing by CustomersController#show as */*
  Parameters: {"customer"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCustomer Load (1.1ms)[0m  [1m[34mSELECT `customers`.* FROM `customers` WHERE `customers`.`user_id` = '3'[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '10' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '11' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (0.8ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '12' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (0.8ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '13' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (1.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '14' AND `contacts`.`entity_type` = 'Customer'[0m
  [1m[36mContact Load (0.9ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '15' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 32ms (Views: 1.8ms | ActiveRecord: 6.7ms)


Started POST "/users/customers" for 192.168.12.20 at 2018-04-14 23:45:43 +0900
Processing by CustomersController#create as */*
  Parameters: {"customer"=>{"first_name"=>"Hector", "last_name"=>"Acosta", "legal_id"=>"123456789876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}]}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (35.9ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`, `user_id`) VALUES ('Hector', 'Acosta', '123456789876', '2018-04-14 14:45:43', '2018-04-14 14:45:43', '3')[0m
  [1m[35m (48.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (23.6ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '16', '2018-04-14 14:45:43', '2018-04-14 14:45:43')[0m
  [1m[35m (75.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (62.8ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '16', '2018-04-14 14:45:43', '2018-04-14 14:45:43')[0m
  [1m[35m (76.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (25.1ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '16' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 386ms (Views: 1.8ms | ActiveRecord: 349.1ms)


Started POST "/users/customers" for 192.168.12.20 at 2018-04-14 23:45:59 +0900
Processing by CustomersController#create as */*
  Parameters: {"customer"=>{"first_name"=>"Hector", "last_name"=>"Acosta", "legal_id"=>"12345633455g876"}, "contacts"=>[{"tag"=>"phone_number", "info"=>"8238345332"}, {"tag"=>"work_number", "info"=>"8231237654"}]}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `customers` (`first_name`, `last_name`, `legal_id`, `created_at`, `updated_at`, `user_id`) VALUES ('Hector', 'Acosta', '12345633455g876', '2018-04-14 14:45:59', '2018-04-14 14:45:59', '3')[0m
  [1m[35m (55.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('phone_number', '8238345332', 'Customer', '17', '2018-04-14 14:45:59', '2018-04-14 14:45:59')[0m
  [1m[35m (26.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `contacts` (`tag`, `info`, `entity_type`, `entity_id`, `created_at`, `updated_at`) VALUES ('work_number', '8231237654', 'Customer', '17', '2018-04-14 14:45:59', '2018-04-14 14:45:59')[0m
  [1m[35m (52.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT `contacts`.* FROM `contacts` WHERE `contacts`.`entity_id` = '17' AND `contacts`.`entity_type` = 'Customer'[0m
Completed 200 OK in 168ms (Views: 0.6ms | ActiveRecord: 139.8ms)


  [1m[35m (201.2ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (182.9ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (7.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateUsers (20180405154206)
  [1m[35m (178.4ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `birthday` date, `sex` varchar(255), `email` varchar(255), `password_digest` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (26.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180405154206')[0m
  [1m[35m (42.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2018-05-11 01:02:10', '2018-05-11 01:02:10')[0m
  [1m[35m (26.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started POST "/users" for 127.0.0.1 at 2018-05-10 21:07:05 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ApplicationController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/application_controller.rb:3)
Processing by UsersController#create as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"Hector", "last_name"=>"Acosta", "sex"=>"Male", "birthday"=>"03-06-1997"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `users` (`first_name`, `last_name`, `birthday`, `sex`, `email`, `password_digest`, `created_at`, `updated_at`) VALUES ('Hector', 'Acosta', '1997-06-03', 'Male', 'hector.acosta@test.com', '$2a$10$BIIELQ6Py4JdbWwg/6yNSOCtsvX395NSmrmDKm7UWg/t3FVYa1gBG', '2018-05-11 01:07:06', '2018-05-11 01:07:06')[0m
  [1m[35m (39.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 100ms (Views: 0.2ms | ActiveRecord: 40.6ms)


  [1m[35m (0.0ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to HoneyBitsUserAttrs (20180523141313)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to HoneyBitsUserAttrs (20180523141313)
  [1m[35m (651.6ms)[0m  [1m[35mALTER TABLE `users` ADD `phone_number` varchar(255)[0m
  [1m[35m (385.0ms)[0m  [1m[35mALTER TABLE `users` ADD `stripe_id` varchar(255)[0m
  [1m[35m (386.2ms)[0m  [1m[35mALTER TABLE `users` ADD `bees` int[0m
  [1m[35m (385.1ms)[0m  [1m[35mALTER TABLE `users` ADD `role_id` varchar(255)[0m
  [1m[35m (386.7ms)[0m  [1m[35mALTER TABLE `users` ADD `role_type` varchar(255)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180523141313')[0m
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (551.4ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (545.8ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateUsers (20180405154206)
  [1m[35m (439.9ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `birthday` date, `sex` varchar(255), `email` varchar(255), `password_digest` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (159.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180405154206')[0m
  [1m[35m (85.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to HoneyBitsUserAttrs (20180523141313)
  [1m[35m (857.3ms)[0m  [1m[35mALTER TABLE `users` ADD `phone_number` varchar(255)[0m
  [1m[35m (650.1ms)[0m  [1m[35mALTER TABLE `users` ADD `stripe_id` varchar(255)[0m
  [1m[35m (977.1ms)[0m  [1m[35mALTER TABLE `users` ADD `bees` int[0m
  [1m[35m (701.6ms)[0m  [1m[35mALTER TABLE `users` ADD `role_id` varchar(255)[0m
  [1m[35m (673.1ms)[0m  [1m[35mALTER TABLE `users` ADD `role_type` varchar(255)[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180523141313')[0m
  [1m[35m (94.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20180601044923)
  [1m[35m (315.9ms)[0m  [1m[35mCREATE TABLE `roles` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180601044923')[0m
  [1m[35m (38.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (21.6ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2018-06-01 04:53:22', '2018-06-01 04:53:22')[0m
  [1m[35m (53.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (17.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (13.0ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (25.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to RelationUser (20180601222006)
  [1m[35m (11.2ms)[0m  [1m[35mALTER TABLE `User` ADD `role_id` varchar(255)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to RelationUser (20180601222006)
  [1m[35m (36.8ms)[0m  [1m[35mALTER TABLE `users` ADD `role_id` varchar(255)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to RelationUser (20180601222006)
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE `users` ADD `role_id` varchar(255)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to RelationUser (20180601222006)
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE `users` ADD `role_id` varchar(255)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to RelationUser (20180601222006)
  [1m[35m (669.2ms)[0m  [1m[35mALTER TABLE `users` ADD `role_id` varchar(255)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (31.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180601222006')[0m
  [1m[35m (52.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (4.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/users?user_id=1" for 127.0.0.1 at 2018-06-02 00:07:37 -0400
  [1m[36mActiveRecord::SchemaMigration Load (19.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
ActionController::RoutingError (uninitialized constant ApplicationCslaontroller):
  
app/controllers/users_controller.rb:2:in `<top (required)>'
Started GET "/users?user_id=1" for 127.0.0.1 at 2018-06-02 00:08:10 -0400
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#show as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (12.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
Completed 200 OK in 146ms (Views: 0.6ms | ActiveRecord: 33.2ms)


Started GET "/users?user_id=1" for 127.0.0.1 at 2018-06-02 00:09:35 -0400
Processing by UsersController#show as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT `users`.* FROM `users`[0m
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 1.5ms)


Started POST "/users" for 127.0.0.1 at 2018-06-02 00:10:02 -0400
Processing by UsersController#create as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"Hector", "last_name"=>"Acosta", "sex"=>"Male", "birthday"=>"03-06-1997"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 400 Bad Request in 694ms (Views: 0.4ms | ActiveRecord: 105.3ms)


Started POST "/users" for 127.0.0.1 at 2018-06-02 00:10:37 -0400
Processing by UsersController#create as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"Hector", "last_name"=>"Acosta", "sex"=>"Male", "birthday"=>"03-06-1997"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (30.4ms)[0m  [1m[32mINSERT INTO `users` (`first_name`, `last_name`, `birthday`, `sex`, `email`, `password_digest`, `created_at`, `updated_at`) VALUES ('Hector', 'Acosta', '1997-06-03', 'Male', 'hector.acosta@test.com', '$2a$10$C9XsAGheoa0RA1QQXnx/JeJsRyQfpMg9W2WyXtXvGoVQTpmnVqNpm', '2018-06-02 04:10:37', '2018-06-02 04:10:37')[0m
  [1m[35m (74.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 343ms (Views: 0.7ms | ActiveRecord: 110.8ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:12:20 -0400
Processing by UsersController#set_role as */*
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started POST "/users/token" for 127.0.0.1 at 2018-06-02 00:12:47 -0400
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (27.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m  [["email", "hector.acosta@test.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m  [["email", "hector.acosta@test.com"], ["LIMIT", 1]]
Completed 200 OK in 337ms (Views: 0.7ms | ActiveRecord: 27.7ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:13:20 -0400
Processing by UsersController#set_role as */*
  [1m[36mUser Load (72.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 204 No Content in 76ms (ActiveRecord: 72.1ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:26:37 -0400
Processing by UsersController#set_role as */*
  Parameters: {"role_name"=>"user"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`name` = 'user' LIMIT 1[0m
Completed 204 No Content in 163ms (ActiveRecord: 80.9ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:27:00 -0400
Processing by UsersController#set_role as */*
  Parameters: {"role_name"=>"user"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`name` = 'user' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 51ms (ActiveRecord: 3.0ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:27:30 -0400
Processing by UsersController#set_role as */*
  Parameters: {"role_name"=>"client"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (0.7ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`name` = 'client' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (203.3ms)[0m  [1m[33mUPDATE `users` SET `role_id` = '1', `updated_at` = '2018-06-02 04:27:30' WHERE `users`.`id` = 1[0m
  [1m[35m (185.1ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 414ms (ActiveRecord: 392.3ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:27:49 -0400
Processing by UsersController#set_role as */*
  Parameters: {"role_name"=>"admin"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 400 Bad Request in 16ms (Views: 12.8ms | ActiveRecord: 0.6ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:28:35 -0400
Processing by UsersController#set_role as */*
  Parameters: {"role_name"=>"admin"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`name` = 'admin' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE `users` SET `role_id` = '2', `updated_at` = '2018-06-02 04:28:35' WHERE `users`.`id` = 1[0m
  [1m[35m (77.6ms)[0m  [1m[35mCOMMIT[0m
Completed 401 Unauthorized in 386ms (Views: 0.5ms | ActiveRecord: 82.2ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:28:44 -0400
Processing by UsersController#set_role as */*
  Parameters: {"role_name"=>"client"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`name` = 'client' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE `users` SET `role_id` = '1', `updated_at` = '2018-06-02 04:28:44' WHERE `users`.`id` = 1[0m
  [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 53ms (ActiveRecord: 44.1ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:37:57 -0400
Processing by UsersController#set_role as */*
  Parameters: {"role_name"=>"admin"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`id` = 2 LIMIT 1[0m
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`name` = 'admin' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 13ms (ActiveRecord: 3.3ms)


Started PATCH "/users/role" for 127.0.0.1 at 2018-06-02 00:38:33 -0400
Processing by UsersController#set_role as */*
  Parameters: {"role_name"=>"admin"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`id` = 2 LIMIT 1[0m
  [1m[36mRole Load (1.1ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`name` = 'admin' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`id` = 2 LIMIT 1[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 120ms (Views: 0.6ms | ActiveRecord: 4.5ms)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (32.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::InternalMetadata Load (7.5ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/validity" for 127.0.0.1 at 2018-06-19 02:11:35 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#valid as */*
Completed 200 OK in 30ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started POST "/users/token" for 127.0.0.1 at 2018-06-19 02:12:08 -0400
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m  [["email", "hector.acosta@test.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m  [["email", "hector.acosta@test.com"], ["LIMIT", 1]]
  [1m[36mRole Load (1.2ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 604ms (Views: 0.8ms | ActiveRecord: 9.2ms)


Started GET "/validity" for 127.0.0.1 at 2018-06-19 02:12:35 -0400
Processing by UsersController#valid as */*
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (0.6ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 1.3ms)


Started GET "/validity" for 127.0.0.1 at 2018-06-19 02:12:46 -0400
Processing by UsersController#valid as */*
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started GET "/validity" for 127.0.0.1 at 2018-06-19 02:12:59 -0400
Processing by UsersController#valid as */*
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mRole Load (0.8ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 1.5ms)


Started POST "/omniauth/google" for 10.0.0.9 at 2018-06-22 00:38:16 -0400
  [1m[36mActiveRecord::SchemaMigration Load (226.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  
omniauth (1.8.1) lib/omniauth/strategy.rb:179:in `call!'
omniauth (1.8.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.8.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/omniauth/google" for 10.0.0.9 at 2018-06-22 00:39:03 -0400
  
OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  
omniauth (1.8.1) lib/omniauth/strategy.rb:179:in `call!'
omniauth (1.8.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.8.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/omniauth/google" for 10.0.0.9 at 2018-06-22 00:44:02 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  
omniauth (1.8.1) lib/omniauth/strategy.rb:179:in `call!'
omniauth (1.8.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.8.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/omniauth/google" for 10.0.0.9 at 2018-06-22 01:01:20 -0400
  [1m[36mActiveRecord::SchemaMigration Load (613.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
OmniAuth::NoSessionError (You must provide a session to use OmniAuth.):
  
omniauth (1.8.1) lib/omniauth/strategy.rb:179:in `call!'
omniauth (1.8.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.8.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/omniauth/google" for 10.0.0.9 at 2018-06-22 01:14:47 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
ActionController::RoutingError (uninitialized constant OmniauthLoginController):
  
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `const_get'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:268:in `block in constantize'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `each'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `inject'
activesupport (5.0.7) lib/active_support/inflector/methods.rb:266:in `constantize'
actionpack (5.0.7) lib/action_dispatch/http/request.rb:81:in `controller_class'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:44:in `controller'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:30:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
omniauth (1.8.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.8.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.8.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.8.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.8.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.4) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.4) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/cookies.rb:613:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/omniauth/google" for 10.0.0.9 at 2018-06-22 01:15:52 -0400
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
NoMethodError (undefined method `make_response!' for OmniauthLoginController:Class):
  
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:31:in `serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.7) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.7) lib/action_dispatch/routing/route_set.rb:727:in `call'
omniauth (1.8.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.8.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.8.1) lib/omniauth/strategy.rb:190:in `call!'
omniauth (1.8.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.8.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.4) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.4) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/cookies.rb:613:in `call'
rack (2.0.4) lib/rack/etag.rb:25:in `call'
rack (2.0.4) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.4) lib/rack/head.rb:12:in `call'
activerecord (5.0.7) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/omniauth/google" for 10.0.0.9 at 2018-06-22 01:18:33 -0400
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 38ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 10.0.0.9 at 2018-06-22 01:19:46 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 10.0.0.9 at 2018-06-22 01:20:33 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 941ms (ActiveRecord: 0.0ms)


Started GET "/ominiauth/google" for 192.168.1.3 at 2018-06-22 10:15:55 -0400
  [1m[36mActiveRecord::SchemaMigration Load (240.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
ActionController::RoutingError (No route matches [GET] "/ominiauth/google"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/ominiauth/google" for 192.168.1.3 at 2018-06-22 10:16:14 -0400
  
ActionController::RoutingError (No route matches [POST] "/ominiauth/google"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 10:16:23 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 716ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 12:09:21 -0400
  [1m[36mActiveRecord::SchemaMigration Load (56.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 611ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 12:24:26 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 576ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 12:27:24 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 581ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 13:19:47 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 323ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 13:19:58 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 297ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 13:20:46 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 314ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 13:21:05 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 288ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 13:21:32 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 305ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/facebook" for 192.168.1.3 at 2018-06-22 14:00:09 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"facebook"}
Completed 204 No Content in 627ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/facebook" for 192.168.1.3 at 2018-06-22 14:04:21 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"facebook"}
  [1m[36mUser Load (8.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (25.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 1333ms (ActiveRecord: 672.8ms)


  
NameError (uninitialized constant AuthenticateUserOauth::JsonWebToken):
  
app/commands/authenticate_user_oauth.rb:10:in `call'
app/controllers/omniauth_login_controller.rb:28:in `facebook'
app/controllers/omniauth_login_controller.rb:14:in `omniauth_token'
Started POST "/omniauth/facebook" for 192.168.1.3 at 2018-06-22 14:06:33 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"facebook"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 546ms (ActiveRecord: 19.2ms)


  
NoMethodError (undefined method `uuid=' for #<User:0x00007faccc063a30>):
  
app/controllers/omniauth_login_controller.rb:32:in `facebook'
app/controllers/omniauth_login_controller.rb:14:in `omniauth_token'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (28.2ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (14.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to OmniauthToUser (20180622181102)
  [1m[35m (1397.7ms)[0m  [1m[35mALTER TABLE `users` ADD `uuid` varchar(255)[0m
  [1m[35m (704.5ms)[0m  [1m[35mALTER TABLE `users` ADD `provider` varchar(255)[0m
  [1m[35m (700.1ms)[0m  [1m[35mALTER TABLE `users` ADD `profile_pic` varchar(255)[0m
  [1m[35m (16.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (16.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180622181102')[0m
  [1m[35m (108.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (53.7ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (17.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (35.0ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (1.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (1.6ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (1.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started POST "/omniauth/facebook" for 192.168.1.3 at 2018-06-22 14:15:03 -0400
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"facebook"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 482ms (ActiveRecord: 19.0ms)


  
NoMethodError (undefined method `uuid=' for #<User:0x00007face000caf0>):
  
app/controllers/omniauth_login_controller.rb:32:in `facebook'
app/controllers/omniauth_login_controller.rb:14:in `omniauth_token'
Started POST "/omniauth/facebook" for 192.168.1.3 at 2018-06-22 14:15:21 -0400
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"facebook"}
  [1m[36mUser Load (17.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (23.1ms)[0m  [1m[32mINSERT INTO `users` (`first_name`, `email`, `password_digest`, `created_at`, `updated_at`, `uuid`, `provider`, `profile_pic`) VALUES ('Hector Acosta', 'hectorcurioso4@hotmail.com', '$2a$10$j0hru2kQ3mCo0zHzhWP4Vu3OdcWkc0TKOBnT3Bu8XodAeAq.32EzS', '2018-06-22 18:15:23', '2018-06-22 18:15:23', '10214564590851843', 'facebook', 'https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=10214564590851843&height=50&width=50&ext=1529950523&hash=AeRiW5RX7fhZhTYy')[0m
  [1m[35m (88.4ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 1086ms (ActiveRecord: 153.9ms)


Started POST "/omniauth/facebook" for 192.168.1.3 at 2018-06-22 14:17:55 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"facebook"}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[35m (31.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (87.0ms)[0m  [1m[33mUPDATE `users` SET `profile_pic` = 'https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=10214564590851843&height=50&width=50&ext=1529950676&hash=AeQx2lwgY9DyIIPW', `updated_at` = '2018-06-22 18:17:56' WHERE `users`.`id` = 2[0m
  [1m[35m (77.1ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 660ms (ActiveRecord: 198.5ms)


Started POST "/omniauth/facebook" for 192.168.1.3 at 2018-06-22 14:18:15 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"facebook"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE `users` SET `profile_pic` = 'https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=10214564590851843&height=50&width=50&ext=1529950696&hash=AeSqWeLJvKPEmPUz', `updated_at` = '2018-06-22 18:18:16' WHERE `users`.`id` = 2[0m
  [1m[35m (89.5ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 801ms (ActiveRecord: 92.8ms)


Started POST "/omniauth/facebook" for 192.168.1.3 at 2018-06-22 14:29:13 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"facebook"}
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hectorcurioso4@hotmail.com' ORDER BY `users`.`id` ASC LIMIT 1[0m  [["email", "hectorcurioso4@hotmail.com"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE `users` SET `profile_pic` = 'https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=10214564590851843&height=50&width=50&ext=1529951363&hash=AeRnmnUpoGYu6TfH', `updated_at` = '2018-06-22 18:29:23' WHERE `users`.`id` = 2[0m
  [1m[35m (521.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 1034ms (Views: 0.7ms | ActiveRecord: 526.6ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 14:32:46 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 409ms (ActiveRecord: 0.0ms)


Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 14:37:42 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 204 No Content in 864ms (ActiveRecord: 0.0ms)


  [1m[35m (16.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddRefreshTokenToUser (20180622185721)
  [1m[35m (913.4ms)[0m  [1m[35mALTER TABLE `users` ADD `refresh_token` varchar(255)[0m
  [1m[35m (13.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (14.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180622185721')[0m
  [1m[35m (107.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (1.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 15:21:50 -0400
  [1m[36mActiveRecord::SchemaMigration Load (58.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 500 Internal Server Error in 655ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/omniauth_login_controller.rb:34:in `facebook'
app/controllers/omniauth_login_controller.rb:21:in `omniauth_token'
Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 15:25:18 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 500 Internal Server Error in 626ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/omniauth_login_controller.rb:54:in `google'
app/controllers/omniauth_login_controller.rb:21:in `omniauth_token'
Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 15:26:14 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 500 Internal Server Error in 606ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/omniauth_login_controller.rb:54:in `google'
app/controllers/omniauth_login_controller.rb:21:in `omniauth_token'
Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 15:34:52 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
Completed 500 Internal Server Error in 806ms (ActiveRecord: 0.0ms)


  
ArgumentError (wrong number of arguments (given 2, expected 1)):
  
app/commands/authenticate_user_oauth.rb:5:in `initialize'
app/controllers/omniauth_login_controller.rb:54:in `google'
app/controllers/omniauth_login_controller.rb:21:in `omniauth_token'
Started POST "/omniauth/google" for 192.168.1.3 at 2018-06-22 15:40:25 -0400
Processing by OmniauthLoginController#omniauth_token as */*
  Parameters: {"provider"=>"google"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = '105698704773691610453' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = '105698704773691610453' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = '105698704773691610453' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = '105698704773691610453' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = '105698704773691610453' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = '105698704773691610453' ORDER BY `users`.`id` ASC LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (54.5ms)[0m  [1m[32mINSERT INTO `users` (`first_name`, `last_name`, `email`, `password_digest`, `created_at`, `updated_at`, `uuid`, `provider`, `profile_pic`) VALUES ('Hector', 'Acosta', 'hectorcuriso4@gmail.com', '$2a$10$IU6h277KlDymKY7uhMQOVOgWeUFfAnbzq5UQsQOCpkDcNGDZ6xxs2', '2018-06-22 19:40:26', '2018-06-22 19:40:26', '105698704773691610453', 'google', 'https://lh6.googleusercontent.com/-cljFPbtdXm8/AAAAAAAAAAI/AAAAAAAAphA/RNxkfLE1jzk/photo.jpg')[0m
  [1m[35m (145.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 1418ms (Views: 0.7ms | ActiveRecord: 337.9ms)


  [1m[35m (7.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (18.7ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (169.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateFollows (20180624130515)
  [1m[35m (3140.9ms)[0m  [1m[35mCREATE TABLE `follows` (`id` int AUTO_INCREMENT PRIMARY KEY, `follower_id` varchar(255), `followed_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (51.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180624130515')[0m
  [1m[35m (52.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShops (20180624161301)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateShops (20180624161301)
  [1m[35m (650.8ms)[0m  [1m[35mCREATE TABLE `shops` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `description` varchar(255), `profile_pic` varchar(255), `latitude` float, `longitude` float, `policy` text, `owner_id` varchar(255), `raiting` float, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (19.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180624161301')[0m
  [1m[35m (77.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (29.6ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (21.4ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (1.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (1.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started PATCH "/users/role" for 192.168.1.3 at 2018-06-24 16:23:46 -0400
  [1m[36mActiveRecord::SchemaMigration Load (87.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by RolesController#set_role as */*
  Parameters: {"role_id"=>"0"}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 34ms (Views: 0.4ms | ActiveRecord: 0.0ms)


Started POST "/users/token" for 192.168.1.3 at 2018-06-24 16:24:39 -0400
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m  [["email", "hector.acosta@test.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m  [["email", "hector.acosta@test.com"], ["LIMIT", 1]]
  [1m[36mRole Load (1.0ms)[0m  [1m[34mSELECT  `roles`.* FROM `roles` WHERE `roles`.`id` = 2 LIMIT 1[0m
Completed 200 OK in 498ms (Views: 1.0ms | ActiveRecord: 29.3ms)


Started PATCH "/users/role" for 192.168.1.3 at 2018-06-24 16:25:18 -0400
Processing by RolesController#set_role as */*
  Parameters: {"role_id"=>"0"}
  [1m[36mUser Load (19.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (8.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (80.4ms)[0m  [1m[33mUPDATE `users` SET `role_id` = '0', `updated_at` = '2018-06-24 20:25:18' WHERE `users`.`id` = 1[0m
  [1m[35m (77.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 202ms (Views: 1.2ms | ActiveRecord: 185.2ms)


Started GET "/users/role" for 192.168.1.3 at 2018-06-24 16:25:37 -0400
Processing by RolesController#show_role as */*
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 1.4ms)


Started GET "/validity" for 127.0.0.1 at 2018-07-23 13:07:49 -0400
  
ActiveRecord::NoDatabaseError (Unknown database 'honeybits_development'):
  
activerecord (5.0.7) lib/active_record/connection_adapters/mysql2_adapter.rb:29:in `rescue in mysql2_connection'
activerecord (5.0.7) lib/active_record/connection_adapters/mysql2_adapter.rb:11:in `mysql2_connection'
activerecord (5.0.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:729:in `new_connection'
activerecord (5.0.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:773:in `checkout_new_connection'
activerecord (5.0.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:752:in `try_to_checkout_new_connection'
activerecord (5.0.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:713:in `acquire_connection'
activerecord (5.0.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:490:in `checkout'
activerecord (5.0.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:364:in `connection'
activerecord (5.0.7) lib/active_record/connection_adapters/abstract/connection_pool.rb:883:in `retrieve_connection'
activerecord (5.0.7) lib/active_record/connection_handling.rb:128:in `retrieve_connection'
activerecord (5.0.7) lib/active_record/connection_handling.rb:91:in `connection'
activerecord (5.0.7) lib/active_record/migration.rb:559:in `connection'
activerecord (5.0.7) lib/active_record/migration.rb:546:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/validity" for 127.0.0.1 at 2018-07-23 13:14:49 -0400
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.0.7) lib/active_record/migration.rb:573:in `check_pending!'
activerecord (5.0.7) lib/active_record/migration.rb:549:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.7) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.7) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.7) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.7) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  [1m[35m (991.7ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (442.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (12.6ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (42.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateUsers (20180405154206)
  [1m[35m (395.4ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `birthday` date, `sex` varchar(255), `email` varchar(255), `password_digest` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (35.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180405154206')[0m
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to HoneyBitsUserAttrs (20180523141313)
  [1m[35m (651.1ms)[0m  [1m[35mALTER TABLE `users` ADD `phone_number` varchar(255)[0m
  [1m[35m (499.5ms)[0m  [1m[35mALTER TABLE `users` ADD `stripe_id` varchar(255)[0m
  [1m[35m (505.0ms)[0m  [1m[35mALTER TABLE `users` ADD `bees` int[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180523141313')[0m
  [1m[35m (74.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20180601044923)
  [1m[35m (259.3ms)[0m  [1m[35mCREATE TABLE `roles` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180601044923')[0m
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RelationUser (20180601222006)
  [1m[35m (475.5ms)[0m  [1m[35mALTER TABLE `users` ADD `role_id` varchar(255)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180601222006')[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to OmniauthToUser (20180622181102)
  [1m[35m (435.2ms)[0m  [1m[35mALTER TABLE `users` ADD `uuid` varchar(255)[0m
  [1m[35m (327.1ms)[0m  [1m[35mALTER TABLE `users` ADD `provider` varchar(255)[0m
  [1m[35m (360.8ms)[0m  [1m[35mALTER TABLE `users` ADD `profile_pic` varchar(255)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180622181102')[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRefreshTokenToUser (20180622185721)
  [1m[35m (391.7ms)[0m  [1m[35mALTER TABLE `users` ADD `refresh_token` varchar(255)[0m
  [1m[35m (21.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180622185721')[0m
  [1m[35m (43.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFollows (20180624130515)
  [1m[35m (223.9ms)[0m  [1m[35mCREATE TABLE `follows` (`id` int AUTO_INCREMENT PRIMARY KEY, `follower_id` varchar(255), `followed_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180624130515')[0m
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShops (20180624161301)
  [1m[35m (248.6ms)[0m  [1m[35mCREATE TABLE `shops` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `description` varchar(255), `profile_pic` varchar(255), `latitude` float, `longitude` float, `policy` text, `owner_id` varchar(255), `raiting` float, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (19.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180624161301')[0m
  [1m[35m (44.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAttachmentShopPictureToShops (20180723165519)
  [1m[35m (321.7ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_file_name` varchar(255)[0m
  [1m[35m (418.9ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_content_type` varchar(255)[0m
  [1m[35m (494.5ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_file_size` int[0m
  [1m[35m (427.2ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_updated_at` datetime[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180723165519')[0m
  [1m[35m (82.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (16.6ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (25.1ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2018-07-23 17:15:21', '2018-07-23 17:15:21')[0m
  [1m[35m (81.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (50.9ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started GET "/validity" for 127.0.0.1 at 2018-07-23 13:15:25 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#valid as */*
Completed 200 OK in 24ms (Views: 1.0ms | ActiveRecord: 0.0ms)


Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:20:20 -0400
  
ActionController::RoutingError (No route matches [POST] "/shops"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:21:17 -0400
  [1m[36mActiveRecord::SchemaMigration Load (26.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x00005583b63443f8 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-9722-17a9a6c.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/users/token" for 127.0.0.1 at 2018-07-23 13:21:45 -0400
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
Completed 401 Unauthorized in 119ms (Views: 0.4ms | ActiveRecord: 76.1ms)


Started POST "/users" for 127.0.0.1 at 2018-07-23 13:21:53 -0400
Processing by UsersController#create as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "first_name"=>"Hector", "last_name"=>"Acosta", "sex"=>"Male", "birthday"=>"03-06-1997"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (49.9ms)[0m  [1m[32mINSERT INTO `users` (`first_name`, `last_name`, `birthday`, `sex`, `email`, `password_digest`, `created_at`, `updated_at`) VALUES ('Hector', 'Acosta', '1997-06-03', 'Male', 'hector.acosta@test.com', '$2a$10$WEnahvx9ZT9jX4ymMPl7cO5VdCCrWmyXqk9Ze8fWp6qb95NAm8XWG', '2018-07-23 17:21:53', '2018-07-23 17:21:53')[0m
  [1m[35m (74.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 238ms (Views: 0.7ms | ActiveRecord: 160.8ms)


Started POST "/users/token" for 127.0.0.1 at 2018-07-23 13:21:58 -0400
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m  [["email", "hector.acosta@test.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m  [["email", "hector.acosta@test.com"], ["LIMIT", 1]]
Completed 200 OK in 153ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:22:28 -0400
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x00005583b5d701c0 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-9722-1pcvz5z.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (20.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 30ms (ActiveRecord: 20.5ms)


  
NoMethodError (undefined method `shops' for #<User:0x00005583b5d65978>):
  
app/controllers/shops_controller.rb:18:in `create'
Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:23:17 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x00005588dbe55d58 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-9848-1vgcj94.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 26ms (ActiveRecord: 9.3ms)


  
NoMethodError (undefined method `shops' for #<User:0x00005588dbadf8b8>):
  
app/controllers/shops_controller.rb:18:in `create'
Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:23:49 -0400
  [1m[36mActiveRecord::SchemaMigration Load (8.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x000055d5d975db68 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-9904-1ovxtlg.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 149ms (ActiveRecord: 23.9ms)


  
NoMethodError (undefined method `before_avatar_post_process' for #<Class:0x000055d5d91bd0c8>
Did you mean?  before_post_process):
  
app/models/shop.rb:5:in `<class:Shop>'
app/models/shop.rb:1:in `<top (required)>'
app/controllers/shops_controller.rb:18:in `create'
Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:24:09 -0400
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x00007f35d00a1358 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-9904-1oyhyhw.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `[]' for #<ActionDispatch::Http::UploadedFile:0x00007f35d00a1358>):
  
app/controllers/shops_controller.rb:23:in `create'
Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:24:53 -0400
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x00007f35ac10d5b8 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-9904-1yb2jbh.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180723-9904-1yb2jbh.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-11o99wh.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-11o99wh.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-1npgq7o.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-1npgq7o.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-11o99wh.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-11o99wh.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-11o99wh.jpg[0]' -auto-orient -resize "300x300>" '/tmp/1f7c44aa6157a72f512cc3da278662a520180723-9904-64i20e'
[paperclip] Trying to link /tmp/1f7c44aa6157a72f512cc3da278662a520180723-9904-64i20e to /tmp/712b59b0224f930cb0222f2370fb582520180723-9904-1qlh83c
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-11o99wh.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-11o99wh.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-11o99wh.jpg[0]' -auto-orient -resize "100x100>" '/tmp/1f7c44aa6157a72f512cc3da278662a520180723-9904-s35qp6'
[paperclip] Trying to link /tmp/1f7c44aa6157a72f512cc3da278662a520180723-9904-s35qp6 to /tmp/88a496799e1e0c4c097fd54fd645395b20180723-9904-1dcdvls
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-11o99wh.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-19kawp9.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-9904-19kawp9.jpg'
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 1084ms (ActiveRecord: 1.0ms)


  
ActiveRecord::RecordInvalid (Validation failed: User must exist):
  
app/controllers/shops_controller.rb:18:in `create'
  [1m[35m (23.6ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (62.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to FixShopUserRelation (20180723172726)
  [1m[35m (612.9ms)[0m  [1m[35mALTER TABLE `shops` DROP `owner_id`[0m
  [1m[35m (24.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (23.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to FixShopUserRelation (20180723172726)
  [1m[35m (7.5ms)[0m  [1m[35mALTER TABLE `shops` DROP `owner_id`[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (9.6ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to FixShopUserRelation (20180723172726)
  [1m[35m (896.0ms)[0m  [1m[35mALTER TABLE `shops` ADD `user_id` varchar(255)[0m
  [1m[35m (38.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180723172726')[0m
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (5.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:31:49 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x00005602d9396188 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-10336-lyp64a.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180723-10336-lyp64a.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1iop42j.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1iop42j.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1rl6qhn.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1rl6qhn.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1iop42j.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1iop42j.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1iop42j.jpg[0]' -auto-orient -resize "300x300>" '/tmp/8f3dcf8a16451934abb57e627357c0ad20180723-10336-qs3yrj'
[paperclip] Trying to link /tmp/8f3dcf8a16451934abb57e627357c0ad20180723-10336-qs3yrj to /tmp/5e71db1ac4b92c89709329ecff353ba120180723-10336-1ir32zi
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1iop42j.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1iop42j.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1iop42j.jpg[0]' -auto-orient -resize "100x100>" '/tmp/8f3dcf8a16451934abb57e627357c0ad20180723-10336-3pd8nz'
[paperclip] Trying to link /tmp/8f3dcf8a16451934abb57e627357c0ad20180723-10336-3pd8nz to /tmp/beca1af72f4475640d61276b510ce31920180723-10336-95u8zu
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1iop42j.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1p25co9.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10336-1p25co9.jpg'
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 963ms (ActiveRecord: 4.2ms)


  
ActiveRecord::RecordInvalid (Validation failed: User must exist):
  
app/controllers/shops_controller.rb:18:in `create'
Started POST "/users/token" for 127.0.0.1 at 2018-07-23 13:32:44 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (22.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
Completed 400 Bad Request in 101ms (Views: 0.2ms | ActiveRecord: 23.2ms)


Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:33:00 -0400
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x000056305e6f07b8 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-10414-1yfg8qx.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (29.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180723-10414-1yfg8qx.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hdguc3.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hdguc3.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-jb4gk5.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-jb4gk5.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hdguc3.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hdguc3.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hdguc3.jpg[0]' -auto-orient -resize "300x300>" '/tmp/ac361f34a3f64ae3c5097ab005bea4b620180723-10414-npu7b5'
[paperclip] Trying to link /tmp/ac361f34a3f64ae3c5097ab005bea4b620180723-10414-npu7b5 to /tmp/eb619d653dfc3f1fcdbad17a2bbb1d3d20180723-10414-1wh2iig
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hdguc3.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hdguc3.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hdguc3.jpg[0]' -auto-orient -resize "100x100>" '/tmp/ac361f34a3f64ae3c5097ab005bea4b620180723-10414-1ycsbcb'
[paperclip] Trying to link /tmp/ac361f34a3f64ae3c5097ab005bea4b620180723-10414-1ycsbcb to /tmp/120741f5cfb945b2a64eb510a3e2967120180723-10414-1gft9sh
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hdguc3.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hj8ccy.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1hj8ccy.jpg'
  [1m[35mSQL (134.5ms)[0m  [1m[32mINSERT INTO `shops` (`description`, `latitude`, `longitude`, `policy`, `created_at`, `updated_at`, `shop_picture_file_name`, `shop_picture_content_type`, `shop_picture_file_size`, `shop_picture_updated_at`) VALUES ('This is a test shop', 107.333, 48.9929, 'This is a test shop policy', '2018-07-23 17:33:01', '2018-07-23 17:33:01', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-07-23 17:33:01')[0m
  [1m[35m (99.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (41.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (15.4ms)[0m  [1m[33mUPDATE `shops` SET `user_id` = '1' WHERE `shops`.`id` = 1[0m
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.7ms)[0m  [1m[34mSELECT `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1'[0m
Completed 500 Internal Server Error in 819ms (ActiveRecord: 347.4ms)


  
NoMethodError (undefined method `save' for #<Shop::ActiveRecord_Associations_CollectionProxy:0x000056305e5b5380>):
  
app/controllers/shops_controller.rb:27:in `create'
Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:33:41 -0400
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x000056305ea3c200 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-10414-nxtxqr.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180723-10414-nxtxqr.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-163cuxy.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-163cuxy.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1wgdzad.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-1wgdzad.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-163cuxy.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-163cuxy.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-163cuxy.jpg[0]' -auto-orient -resize "300x300>" '/tmp/2a3a66f3dd5b2210fc29b3dd5ae109b320180723-10414-6hdh5x'
[paperclip] Trying to link /tmp/2a3a66f3dd5b2210fc29b3dd5ae109b320180723-10414-6hdh5x to /tmp/b77252e48a267f8ca4f0dd8d6723b33120180723-10414-1eag7se
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-163cuxy.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-163cuxy.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-163cuxy.jpg[0]' -auto-orient -resize "100x100>" '/tmp/2a3a66f3dd5b2210fc29b3dd5ae109b320180723-10414-168go5o'
[paperclip] Trying to link /tmp/2a3a66f3dd5b2210fc29b3dd5ae109b320180723-10414-168go5o to /tmp/7bb0121d6c2c17db379a0ea9730ca21320180723-10414-st5w9e
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-163cuxy.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-qu1obt.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-qu1obt.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `shops` (`description`, `latitude`, `longitude`, `policy`, `created_at`, `updated_at`, `shop_picture_file_name`, `shop_picture_content_type`, `shop_picture_file_size`, `shop_picture_updated_at`) VALUES ('This is a test shop', 107.333, 48.9929, 'This is a test shop policy', '2018-07-23 17:33:52', '2018-07-23 17:33:52', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-07-23 17:33:52')[0m
  [1m[35m (99.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE `shops` SET `user_id` = '1' WHERE `shops`.`id` = 2[0m
  [1m[35m (102.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1'[0m
Completed 500 Internal Server Error in 391ms (ActiveRecord: 205.5ms)


  
NoMethodError (undefined method `to_model' for #<Shop::ActiveRecord_Associations_CollectionProxy:0x000056305e93e088>
Did you mean?  to_xml):
  
app/controllers/shops_controller.rb:28:in `create'
Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:34:40 -0400
Processing by ShopsController#create as */*
  Parameters: {"name"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x000056305dca7bf8 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-10414-5ap6i9.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180723-10414-5ap6i9.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-zal91.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-zal91.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-4ncsa.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-4ncsa.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-zal91.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-zal91.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-zal91.jpg[0]' -auto-orient -resize "300x300>" '/tmp/5518af52cd1a0d0fcbe027d7f2df8b2f20180723-10414-10nsujx'
[paperclip] Trying to link /tmp/5518af52cd1a0d0fcbe027d7f2df8b2f20180723-10414-10nsujx to /tmp/9ad42e1772c4dff0d01ef5244d01ce0320180723-10414-vj9055
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-zal91.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-zal91.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-zal91.jpg[0]' -auto-orient -resize "100x100>" '/tmp/5518af52cd1a0d0fcbe027d7f2df8b2f20180723-10414-vuwf7z'
[paperclip] Trying to link /tmp/5518af52cd1a0d0fcbe027d7f2df8b2f20180723-10414-vuwf7z to /tmp/9b6b1697fbac7ec931aebda9e96556c020180723-10414-1dw1mr7
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-zal91.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-15b3oig.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-10414-15b3oig.jpg'
  [1m[35mSQL (50.7ms)[0m  [1m[32mINSERT INTO `shops` (`description`, `latitude`, `longitude`, `policy`, `created_at`, `updated_at`, `shop_picture_file_name`, `shop_picture_content_type`, `shop_picture_file_size`, `shop_picture_updated_at`) VALUES ('This is a test shop', 107.333, 48.9929, 'This is a test shop policy', '2018-07-23 17:34:40', '2018-07-23 17:34:40', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-07-23 17:34:40')[0m
  [1m[35m (42.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE `shops` SET `user_id` = '1' WHERE `shops`.`id` = 3[0m
  [1m[35m (25.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.7ms)[0m  [1m[34mSELECT `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1'[0m
Completed 201 Created in 246ms (Views: 7.2ms | ActiveRecord: 120.4ms)


  [1m[35m (7.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (26.3ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddRaitersToShop (20180723174643)
  [1m[35m (1008.5ms)[0m  [1m[35mALTER TABLE `shops` ADD `rate_count` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180723174643')[0m
  [1m[35m (27.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (33.1ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started POST "/users/token" for 127.0.0.1 at 2018-07-23 13:53:01 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
Completed 400 Bad Request in 90ms (Views: 0.2ms | ActiveRecord: 1.0ms)


Started GET "/user/shops" for 127.0.0.1 at 2018-07-23 13:53:24 -0400
  
ActionController::RoutingError (No route matches [GET] "/user/shops"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/user/shops" for 127.0.0.1 at 2018-07-23 13:53:46 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
ActionController::RoutingError (No route matches [GET] "/user/shops"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/users/shops" for 127.0.0.1 at 2018-07-23 13:53:57 -0400
Processing by ShopsController#my_shops as */*
  [1m[36mUser Load (12.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (18.7ms)[0m  [1m[34mSELECT `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1'[0m
Completed 200 OK in 154ms (Views: 0.7ms | ActiveRecord: 35.0ms)


Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:55:47 -0400
Started GET "/users/shops" for 127.0.0.1 at 2018-07-23 13:55:57 -0400
Processing by ShopsController#create as */*
  Parameters: {"title"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x0000558a2d5a31a8 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-11074-x8yxv2.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 1.6ms)


  
SyntaxError (/home/hectorandac/RubymineProjects/honey-bits-backend/app/models/shop.rb:13: syntax error, unexpected tIDENTIFIER, expecting '}'
        map_location: {
        ^~~~~~~~~~~~
/home/hectorandac/RubymineProjects/honey-bits-backend/app/models/shop.rb:16: syntax error, unexpected ',', expecting keyword_end
        },
         ^
/home/hectorandac/RubymineProjects/honey-bits-backend/app/models/shop.rb:20: syntax error, unexpected '}', expecting keyword_end
    }
    ^):
  
app/models/shop.rb:13: syntax error, unexpected tIDENTIFIER, expecting '}'
app/models/shop.rb:16: syntax error, unexpected ',', expecting keyword_end
app/models/shop.rb:20: syntax error, unexpected '}', expecting keyword_end
app/controllers/shops_controller.rb:23:in `create'
Processing by ShopsController#my_shops as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms)


  
SyntaxError (/home/hectorandac/RubymineProjects/honey-bits-backend/app/models/shop.rb:13: syntax error, unexpected tIDENTIFIER, expecting '}'
        map_location: {
        ^~~~~~~~~~~~
/home/hectorandac/RubymineProjects/honey-bits-backend/app/models/shop.rb:16: syntax error, unexpected ',', expecting keyword_end
        },
         ^
/home/hectorandac/RubymineProjects/honey-bits-backend/app/models/shop.rb:20: syntax error, unexpected '}', expecting keyword_end
    }
    ^):
  
app/models/shop.rb:13: syntax error, unexpected tIDENTIFIER, expecting '}'
app/models/shop.rb:16: syntax error, unexpected ',', expecting keyword_end
app/models/shop.rb:20: syntax error, unexpected '}', expecting keyword_end
app/controllers/shops_controller.rb:18:in `my_shops'
Started GET "/users/shops" for 127.0.0.1 at 2018-07-23 13:56:13 -0400
Processing by ShopsController#my_shops as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1'[0m
Completed 200 OK in 23ms (Views: 0.5ms | ActiveRecord: 1.6ms)


Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:57:01 -0400
Processing by ShopsController#create as */*
  Parameters: {"title"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x0000558a2cf756c8 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-11074-n1h138.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180723-11074-n1h138.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-oxtsir.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-oxtsir.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg[0]' -auto-orient -resize "600x600>" '/tmp/5f504c5c175cf53243cd959e3dc5469420180723-11074-ornq8h'
[paperclip] Trying to link /tmp/5f504c5c175cf53243cd959e3dc5469420180723-11074-ornq8h to /tmp/91da4e5cad9424c859b874fb3fba8d5b20180723-11074-1u0frts
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg[0]' -auto-orient -resize "300x300>" '/tmp/5f504c5c175cf53243cd959e3dc5469420180723-11074-1rb09d2'
[paperclip] Trying to link /tmp/5f504c5c175cf53243cd959e3dc5469420180723-11074-1rb09d2 to /tmp/da0384efb335640a29e4294bf6d6da7220180723-11074-u486xq
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg[0]' -auto-orient -resize "100x100>" '/tmp/5f504c5c175cf53243cd959e3dc5469420180723-11074-1na0pw0'
[paperclip] Trying to link /tmp/5f504c5c175cf53243cd959e3dc5469420180723-11074-1na0pw0 to /tmp/6330f461fbd62c10d859a6669cf5beb920180723-11074-1c9fkch
  [1m[35m (6.8ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-a9ccjq.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-1wwaews.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-1wwaews.jpg'
  [1m[35mSQL (207.7ms)[0m  [1m[32mINSERT INTO `shops` (`name`, `description`, `latitude`, `longitude`, `policy`, `created_at`, `updated_at`, `shop_picture_file_name`, `shop_picture_content_type`, `shop_picture_file_size`, `shop_picture_updated_at`) VALUES ('TestShop', 'This is a test shop', 107.333, 48.9929, 'This is a test shop policy', '2018-07-23 17:57:02', '2018-07-23 17:57:02', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-07-23 17:57:01')[0m
  [1m[35m (103.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[33mUPDATE `shops` SET `user_id` = '1' WHERE `shops`.`id` = 4[0m
  [1m[35m (73.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.7ms)[0m  [1m[34mSELECT `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1'[0m
Completed 500 Internal Server Error in 1461ms (ActiveRecord: 394.1ms)


  
NoMethodError (undefined method `simple_info' for #<Shop::ActiveRecord_Associations_CollectionProxy:0x0000558a2c739900>):
  
app/controllers/shops_controller.rb:33:in `create'
Started POST "/shops" for 127.0.0.1 at 2018-07-23 13:58:00 -0400
Processing by ShopsController#create as */*
  Parameters: {"title"=>"TestShop", "description"=>"This is a test shop", "shop_picture"=>#<ActionDispatch::Http::UploadedFile:0x00007f635c4fd578 @tempfile=#<Tempfile:/tmp/RackMultipart20180723-11074-jlw482.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"shop_picture\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180723-11074-jlw482.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-1f6r86k.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-1f6r86k.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg[0]' -auto-orient -resize "600x600>" '/tmp/a6f24c4e5c795d17666b1d44ac67dc3720180723-11074-j2hjal'
[paperclip] Trying to link /tmp/a6f24c4e5c795d17666b1d44ac67dc3720180723-11074-j2hjal to /tmp/982ee6bc7ff7e4eb2f1841b24a68fdd520180723-11074-1snozk5
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg[0]' -auto-orient -resize "300x300>" '/tmp/a6f24c4e5c795d17666b1d44ac67dc3720180723-11074-1573th1'
[paperclip] Trying to link /tmp/a6f24c4e5c795d17666b1d44ac67dc3720180723-11074-1573th1 to /tmp/cf077631273f296da85e69f6010009b320180723-11074-1npc4xt
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg[0]' -auto-orient -resize "100x100>" '/tmp/a6f24c4e5c795d17666b1d44ac67dc3720180723-11074-1bulekf'
[paperclip] Trying to link /tmp/a6f24c4e5c795d17666b1d44ac67dc3720180723-11074-1bulekf to /tmp/2ae85e75b72892cd672855002d974b9520180723-11074-c9mijl
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-cfn037.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-11wz1mo.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180723-11074-11wz1mo.jpg'
  [1m[35mSQL (59.4ms)[0m  [1m[32mINSERT INTO `shops` (`name`, `description`, `latitude`, `longitude`, `policy`, `created_at`, `updated_at`, `shop_picture_file_name`, `shop_picture_content_type`, `shop_picture_file_size`, `shop_picture_updated_at`) VALUES ('TestShop', 'This is a test shop', 107.333, 48.9929, 'This is a test shop policy', '2018-07-23 17:58:00', '2018-07-23 17:58:00', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-07-23 17:58:00')[0m
  [1m[35m (49.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (44.6ms)[0m  [1m[33mUPDATE `shops` SET `user_id` = '1' WHERE `shops`.`id` = 5[0m
  [1m[35m (64.0ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 317ms (Views: 0.2ms | ActiveRecord: 218.4ms)


Started GET "/users/shops" for 127.0.0.1 at 2018-07-23 13:59:15 -0400
Processing by ShopsController#my_shops as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1'[0m
Completed 200 OK in 22ms (Views: 0.7ms | ActiveRecord: 0.5ms)


Started GET "/users/shops" for 127.0.0.1 at 2018-07-23 14:00:43 -0400
Processing by ShopsController#my_shops as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1'[0m
Completed 200 OK in 20ms (Views: 0.5ms | ActiveRecord: 0.6ms)


Started POST "/shops" for 127.0.0.1 at 2018-07-23 14:01:10 -0400
Processing by ShopsController#create as */*
  Parameters: {"title"=>"TestShop", "description"=>"This is a test shop", "latitude"=>"107.333", "longitude"=>"48.9929", "policy"=>"This is a test shop policy"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `shops` (`name`, `description`, `latitude`, `longitude`, `policy`, `created_at`, `updated_at`) VALUES ('TestShop', 'This is a test shop', 107.333, 48.9929, 'This is a test shop policy', '2018-07-23 18:01:10', '2018-07-23 18:01:10')[0m
  [1m[35m (24.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE `shops` SET `user_id` = '1' WHERE `shops`.`id` = 6[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 54ms (Views: 0.2ms | ActiveRecord: 49.6ms)


Started GET "/users/shops" for 127.0.0.1 at 2018-07-23 14:01:19 -0400
Processing by ShopsController#my_shops as */*
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1'[0m
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.8ms)


  [1m[35m (1.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (50.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAttachmentShopPictureToShops (20180723165519)
  [1m[35m (942.3ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_file_name` varchar(255)[0m
  [1m[35m (744.7ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_content_type` varchar(255)[0m
  [1m[35m (689.6ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_file_size` int[0m
  [1m[35m (656.2ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_updated_at` datetime[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (23.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180723165519')[0m
  [1m[35m (39.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to FixShopUserRelation (20180723172726)
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE `shops` DROP `owner_id`[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to FixShopUserRelation (20180723172726)
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE `shops` DROP `owner_id`[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (341.8ms)[0m  [1m[35mCREATE TABLE `schema_migrations` (`version` varchar(255) PRIMARY KEY) ENGINE=InnoDB[0m
  [1m[35m (315.5ms)[0m  [1m[35mCREATE TABLE `ar_internal_metadata` (`key` varchar(255) PRIMARY KEY, `value` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (4.9ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateUsers (20180405154206)
  [1m[35m (321.1ms)[0m  [1m[35mCREATE TABLE `users` (`id` int AUTO_INCREMENT PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `birthday` date, `sex` varchar(255), `email` varchar(255), `password_digest` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180405154206')[0m
  [1m[35m (48.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to HoneyBitsUserAttrs (20180523141313)
  [1m[35m (495.9ms)[0m  [1m[35mALTER TABLE `users` ADD `phone_number` varchar(255)[0m
  [1m[35m (610.0ms)[0m  [1m[35mALTER TABLE `users` ADD `stripe_id` varchar(255)[0m
  [1m[35m (546.2ms)[0m  [1m[35mALTER TABLE `users` ADD `bees` int[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180523141313')[0m
  [1m[35m (86.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateRoles (20180601044923)
  [1m[35m (285.7ms)[0m  [1m[35mCREATE TABLE `roles` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180601044923')[0m
  [1m[35m (33.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RelationUser (20180601222006)
  [1m[35m (546.3ms)[0m  [1m[35mALTER TABLE `users` ADD `role_id` varchar(255)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180601222006')[0m
  [1m[35m (40.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to OmniauthToUser (20180622181102)
  [1m[35m (1257.5ms)[0m  [1m[35mALTER TABLE `users` ADD `uuid` varchar(255)[0m
  [1m[35m (673.2ms)[0m  [1m[35mALTER TABLE `users` ADD `provider` varchar(255)[0m
  [1m[35m (622.4ms)[0m  [1m[35mALTER TABLE `users` ADD `profile_pic` varchar(255)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180622181102')[0m
  [1m[35m (42.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRefreshTokenToUser (20180622185721)
  [1m[35m (520.9ms)[0m  [1m[35mALTER TABLE `users` ADD `refresh_token` varchar(255)[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180622185721')[0m
  [1m[35m (71.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFollows (20180624130515)
  [1m[35m (325.9ms)[0m  [1m[35mCREATE TABLE `follows` (`id` int AUTO_INCREMENT PRIMARY KEY, `follower_id` varchar(255), `followed_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180624130515')[0m
  [1m[35m (43.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShops (20180624161301)
  [1m[35m (316.1ms)[0m  [1m[35mCREATE TABLE `shops` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `description` varchar(255), `profile_pic` varchar(255), `latitude` float, `longitude` float, `policy` text, `owner_id` varchar(255), `raiting` float, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180624161301')[0m
  [1m[35m (40.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAttachmentShopPictureToShops (20180723165519)
  [1m[35m (601.9ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_file_name` varchar(255)[0m
  [1m[35m (507.9ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_content_type` varchar(255)[0m
  [1m[35m (567.2ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_file_size` int[0m
  [1m[35m (569.1ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_picture_updated_at` datetime[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180723165519')[0m
  [1m[35m (38.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to FixShopUserRelation (20180723172726)
  [1m[35m (468.5ms)[0m  [1m[35mALTER TABLE `shops` DROP `owner_id`[0m
  [1m[35m (533.8ms)[0m  [1m[35mALTER TABLE `shops` ADD `user_id` varchar(255)[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180723172726')[0m
  [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddRaitersToShop (20180723174643)
  [1m[35m (553.2ms)[0m  [1m[35mALTER TABLE `shops` ADD `rate_count` int[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180723174643')[0m
  [1m[35m (47.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJoinTableUserShop (20180731150850)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateJoinTableUserShop (20180731150850)
  [1m[35m (374.0ms)[0m  [1m[35mCREATE TABLE `shops_users` (`user_id` int NOT NULL, `shop_id` int NOT NULL,  INDEX `index_shops_users_on_user_id_and_shop_id`  (`user_id`, `shop_id`)) ENGINE=InnoDB[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180731150850')[0m
  [1m[35m (43.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2018-07-31 15:16:03', '2018-07-31 15:16:03')[0m
  [1m[35m (61.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (1.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (1.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (1.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (153.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAttachmentUserPictureToUsers (20180801201404)
  [1m[35m (718.0ms)[0m  [1m[35mALTER TABLE `users` ADD `user_picture_file_name` varchar(255)[0m
  [1m[35m (520.3ms)[0m  [1m[35mALTER TABLE `users` ADD `user_picture_content_type` varchar(255)[0m
  [1m[35m (511.7ms)[0m  [1m[35mALTER TABLE `users` ADD `user_picture_file_size` int[0m
  [1m[35m (546.1ms)[0m  [1m[35mALTER TABLE `users` ADD `user_picture_updated_at` datetime[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (12.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180801201404')[0m
  [1m[35m (60.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (19.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (243.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddAttachmentShopLogoToUsers (20180803173051)
  [1m[35m (820.5ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_logo_file_name` varchar(255)[0m
  [1m[35m (594.7ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_logo_content_type` varchar(255)[0m
  [1m[35m (511.0ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_logo_file_size` int[0m
  [1m[35m (554.6ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_logo_updated_at` datetime[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (20.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180803173051')[0m
  [1m[35m (69.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnPlaceIdToStores (20180805225304)
  [1m[35m (830.3ms)[0m  [1m[35mALTER TABLE `shops` ADD `place_id` varchar(255)[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180805225304')[0m
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (13.4ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (1.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (1.2ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (1.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (1.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (279.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateBillings (20180806021701)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateBillings (20180806021701)
  [1m[35m (418.0ms)[0m  [1m[35mCREATE TABLE `billings` (`id` int AUTO_INCREMENT PRIMARY KEY, `cart_id` varchar(255), `amount` decimal(10,6), `user_id` varchar(255), `cut_percentage` float, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806021701')[0m
  [1m[35m (65.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20180806023020)
  [1m[35m (395.1ms)[0m  [1m[35mCREATE TABLE `carts` (`id` int AUTO_INCREMENT PRIMARY KEY, `item_counts` int, `user_id` varchar(255), `address_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806023020')[0m
  [1m[35m (38.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartProductsRelationShips (20180806023402)
  [1m[35m (318.4ms)[0m  [1m[35mCREATE TABLE `cart_products_relation_ships` (`id` int AUTO_INCREMENT PRIMARY KEY, `cart_id` varchar(255), `product_id` varchar(255), `shop_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806023402')[0m
  [1m[35m (101.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20180806023457)
  [1m[35m (484.5ms)[0m  [1m[35mCREATE TABLE `products` (`id` int AUTO_INCREMENT PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806023457')[0m
  [1m[35m (34.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddresses (20180806023817)
  [1m[35m (298.2ms)[0m  [1m[35mCREATE TABLE `addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` varchar(255), `zip_code` varchar(255), `primary_address` varchar(255), `secondary_address` varchar(255), `side_note` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806023817')[0m
  [1m[35m (42.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSalesCountToUser (20180806024103)
  [1m[35m (676.5ms)[0m  [1m[35mALTER TABLE `users` ADD `sales_count` int[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806024103')[0m
  [1m[35m (40.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (24.0ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (1.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (1.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddSalesCountToUser (20180806024103)
  [1m[35m (549.3ms)[0m  [1m[35mALTER TABLE `users` DROP `sales_count`[0m
  [1m[35mSQL (42.4ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20180806024103'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (1.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (1.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (1.0ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (1.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (1.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddSalesCountToUser (20180806024103)
  [1m[35m (926.4ms)[0m  [1m[35mALTER TABLE `shops` ADD `sales_count` int[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806024103')[0m
  [1m[35m (49.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (1.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (1.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (598.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateJoinTableUserShop (20180731150850)
  [1m[35m (747.1ms)[0m  [1m[35mCREATE TABLE `shops_users` (`user_id` int NOT NULL, `shop_id` int NOT NULL,  INDEX `index_shops_users_on_user_id_and_shop_id`  (`user_id`, `shop_id`)) ENGINE=InnoDB[0m
  [1m[35m (24.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.3ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180731150850')[0m
  [1m[35m (49.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAttachmentUserPictureToUsers (20180801201404)
  [1m[35m (735.1ms)[0m  [1m[35mALTER TABLE `users` ADD `user_picture_file_name` varchar(255)[0m
  [1m[35m (661.4ms)[0m  [1m[35mALTER TABLE `users` ADD `user_picture_content_type` varchar(255)[0m
  [1m[35m (653.1ms)[0m  [1m[35mALTER TABLE `users` ADD `user_picture_file_size` int[0m
  [1m[35m (719.6ms)[0m  [1m[35mALTER TABLE `users` ADD `user_picture_updated_at` datetime[0m
  [1m[35m (19.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180801201404')[0m
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAttachmentShopLogoToUsers (20180803173051)
  [1m[35m (631.5ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_logo_file_name` varchar(255)[0m
  [1m[35m (610.1ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_logo_content_type` varchar(255)[0m
  [1m[35m (584.6ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_logo_file_size` int[0m
  [1m[35m (636.7ms)[0m  [1m[35mALTER TABLE `shops` ADD `shop_logo_updated_at` datetime[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180803173051')[0m
  [1m[35m (107.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnPlaceIdToStores (20180805225304)
  [1m[35m (597.6ms)[0m  [1m[35mALTER TABLE `shops` ADD `place_id` varchar(255)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180805225304')[0m
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateBillings (20180806021701)
  [1m[35m (291.1ms)[0m  [1m[35mCREATE TABLE `billings` (`id` int AUTO_INCREMENT PRIMARY KEY, `cart_id` varchar(255), `amount` decimal(10,6), `user_id` varchar(255), `cut_percentage` float, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.7ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806021701')[0m
  [1m[35m (91.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCarts (20180806023020)
  [1m[35m (333.0ms)[0m  [1m[35mCREATE TABLE `carts` (`id` int AUTO_INCREMENT PRIMARY KEY, `item_counts` int, `user_id` varchar(255), `address_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806023020')[0m
  [1m[35m (55.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCartProductsRelationShips (20180806023402)
  [1m[35m (233.1ms)[0m  [1m[35mCREATE TABLE `cart_products_relation_ships` (`id` int AUTO_INCREMENT PRIMARY KEY, `cart_id` varchar(255), `product_id` varchar(255), `shop_id` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (21.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806023402')[0m
  [1m[35m (42.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProducts (20180806023457)
  [1m[35m (365.8ms)[0m  [1m[35mCREATE TABLE `products` (`id` int AUTO_INCREMENT PRIMARY KEY, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806023457')[0m
  [1m[35m (21.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateAddresses (20180806023817)
  [1m[35m (232.9ms)[0m  [1m[35mCREATE TABLE `addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` varchar(255), `zip_code` varchar(255), `primary_address` varchar(255), `secondary_address` varchar(255), `side_note` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806023817')[0m
  [1m[35m (21.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSalesCountToUser (20180806024103)
  [1m[35m (592.5ms)[0m  [1m[35mALTER TABLE `shops` ADD `sales_count` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806024103')[0m
  [1m[35m (57.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToProducts (20180815142510)
  [1m[35m (543.2ms)[0m  [1m[35mALTER TABLE `products` ADD `name` varchar(255)[0m
  [1m[35m (427.1ms)[0m  [1m[35mALTER TABLE `products` ADD `description` varchar(255)[0m
  [1m[35m (418.9ms)[0m  [1m[35mALTER TABLE `products` ADD `price` decimal[0m
  [1m[35m (494.6ms)[0m  [1m[35mALTER TABLE `products` ADD `rating` float[0m
  [1m[35m (26.8ms)[0m  [1m[35mALTER TABLE `products` ADD `shop` reference[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (8.8ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddSalesCountToUser (20180806024103)
  [1m[35m (706.8ms)[0m  [1m[35mALTER TABLE `shops` DROP `sales_count`[0m
  [1m[35mSQL (175.0ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20180806024103'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (24.1ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.9ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateAddresses (20180806023817)
  [1m[35m (123.2ms)[0m  [1m[35mDROP TABLE `addresses`[0m
  [1m[35mSQL (24.8ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20180806023817'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateAddresses (20180806023817)
  [1m[35m (287.9ms)[0m  [1m[35mCREATE TABLE `addresses` (`id` int AUTO_INCREMENT PRIMARY KEY, `user_id` varchar(255), `zip_code` varchar(255), `primary_address` varchar(255), `secondary_address` varchar(255), `side_note` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806023817')[0m
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSalesCountToUser (20180806024103)
  [1m[35m (510.0ms)[0m  [1m[35mALTER TABLE `shops` ADD `sales_count` int[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806024103')[0m
  [1m[35m (116.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToProducts (20180815142510)
  [1m[35m (50.1ms)[0m  [1m[35mALTER TABLE `products` ADD `name` varchar(255)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddSalesCountToUser (20180806024103)
  [1m[35m (617.7ms)[0m  [1m[35mALTER TABLE `shops` DROP `sales_count`[0m
  [1m[35mSQL (66.5ms)[0m  [1m[31mDELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20180806024103'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (3.5ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddSalesCountToUser (20180806024103)
  [1m[35m (576.0ms)[0m  [1m[35mALTER TABLE `shops` ADD `sales_count` int[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180806024103')[0m
  [1m[35m (24.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddColumnsToProducts (20180815142510)
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE `products` ADD `name` varchar(255)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddColumnsToProducts (20180815142510)
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE `products` ADD `name` varchar(255)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT `schema_migrations`.`version` FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (10.8ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddColumnsToProducts (20180815142510)
  [1m[35m (1954.9ms)[0m  [1m[35mALTER TABLE `products` ADD `shop_id` int[0m
  [1m[35m (49.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (122.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180815142510')[0m
  [1m[35m (89.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateProductCategories (20180815142845)
  [1m[35m (30.0ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (35.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateProductCategories (20180815142845)
  [1m[35m (577.4ms)[0m  [1m[35mCREATE TABLE `product_categories` (`id` int AUTO_INCREMENT PRIMARY KEY, `category_id` int, `product_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_product_categories_on_category_id`  (`category_id`),  INDEX `index_product_categories_on_product_id`  (`product_id`)) ENGINE=InnoDB[0m
  [1m[35m (22.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180815142845')[0m
  [1m[35m (122.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCategories (20180815143045)
  [1m[35m (198.3ms)[0m  [1m[35mCREATE TABLE `categories` (`id` int AUTO_INCREMENT PRIMARY KEY, `name` varchar(255), `description` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180815143045')[0m
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (50.8ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (9.6ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `product_categories`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started POST "/users/token" for 127.0.0.1 at 2018-08-15 11:20:59 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
Completed 400 Bad Request in 147ms (Views: 0.1ms | ActiveRecord: 24.4ms)


Started POST "/users/token" for 127.0.0.1 at 2018-08-15 11:23:43 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
Completed 400 Bad Request in 82ms (Views: 0.2ms | ActiveRecord: 1.2ms)


Started POST "/users/token" for 127.0.0.1 at 2018-08-15 11:23:50 -0400
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (7.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
Completed 400 Bad Request in 73ms (Views: 0.1ms | ActiveRecord: 7.3ms)


Started POST "/users/token" for 127.0.0.1 at 2018-08-15 11:24:11 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  
LoadError (cannot load such file -- JsonWebToken):
  
app/controllers/users_controller.rb:3:in `<top (required)>'
Started POST "/users/token" for 127.0.0.1 at 2018-08-15 11:24:47 -0400
  [1m[36mActiveRecord::SchemaMigration Load (22.9ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (26.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
Completed 400 Bad Request in 152ms (Views: 0.2ms | ActiveRecord: 27.8ms)


Started POST "/users/token" for 127.0.0.1 at 2018-08-15 11:25:12 -0400
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
Completed 500 Internal Server Error in 67ms (ActiveRecord: 0.4ms)


  
NameError (uninitialized constant JsonWebToken):
  
app/commands/authenticate_user.rb:10:in `call'
app/controllers/users_controller.rb:28:in `token'
Started POST "/users/token" for 127.0.0.1 at 2018-08-15 11:25:55 -0400
  [1m[36mActiveRecord::SchemaMigration Load (21.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
Completed 500 Internal Server Error in 68ms (ActiveRecord: 0.9ms)


  
NameError (uninitialized constant JsonWebToken):
  
app/commands/authenticate_user.rb:11:in `call'
app/controllers/users_controller.rb:28:in `token'
Started POST "/users/token" for 127.0.0.1 at 2018-08-15 11:27:54 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Processing by UsersController#token as */*
  Parameters: {"email"=>"hector.acosta@test.com", "password"=>"[FILTERED]"}
  [1m[36mUser Load (21.5ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`email` = 'hector.acosta@test.com' LIMIT 1[0m
  [1m[35m (42.4ms)[0m  [1m[34mSELECT COUNT(*) FROM `follows` WHERE `follows`.`followed_id` = '1'[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `follows` WHERE `follows`.`follower_id` = '1'[0m
  [1m[35m (54.6ms)[0m  [1m[34mSELECT COUNT(*) FROM `shops` INNER JOIN `shops_users` ON `shops`.`id` = `shops_users`.`shop_id` WHERE `shops_users`.`user_id` = 1[0m
Completed 200 OK in 583ms (Views: 0.7ms | ActiveRecord: 174.8ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 11:56:53 -0400
  [1m[36mActiveRecord::SchemaMigration Load (51.1ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 404 Not Found in 218ms (ActiveRecord: 3.9ms)


  
ActiveRecord::RecordNotFound (Couldn't find Shop without an ID):
  
app/controllers/products_controller.rb:43:in `product_params'
Started POST "/products" for 127.0.0.1 at 2018-08-15 11:57:27 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.6ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (34.5ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 15:57:37', '2018-08-15 15:57:37', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 400 Bad Request in 139ms (Views: 0.5ms | ActiveRecord: 38.2ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 11:58:22 -0400
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>10.54, "shop_id"=>6}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (23.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (9.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (25.9ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 15:58:22', '2018-08-15 15:58:22', 'Honey', 'SweetHoney', 10.54, 6)[0m
  [1m[35m (43.3ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 111ms (Views: 1.1ms | ActiveRecord: 103.0ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 11:59:00 -0400
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 15:59:00', '2018-08-15 15:59:00', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 30ms (Views: 0.8ms | ActiveRecord: 23.7ms)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateProductImages (20180815160140)
  [1m[35m (1312.1ms)[0m  [1m[35mCREATE TABLE `product_images` (`id` int AUTO_INCREMENT PRIMARY KEY, `product_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_product_images_on_product_id`  (`product_id`), CONSTRAINT `fk_rails_1c991d3be6`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180815160140')[0m
  [1m[35m (20.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAttachmentPictureToProductImages (20180815160346)
  [1m[35m (568.5ms)[0m  [1m[35mALTER TABLE `product_images` ADD `picture_file_name` varchar(255)[0m
  [1m[35m (459.6ms)[0m  [1m[35mALTER TABLE `product_images` ADD `picture_content_type` varchar(255)[0m
  [1m[35m (378.2ms)[0m  [1m[35mALTER TABLE `product_images` ADD `picture_file_size` int[0m
  [1m[35m (470.1ms)[0m  [1m[35mALTER TABLE `product_images` ADD `picture_updated_at` datetime[0m
  [1m[35m (21.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180815160346')[0m
  [1m[35m (41.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `product_categories`[0m
  [1m[35m (9.8ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started POST "/products" for 127.0.0.1 at 2018-08-15 12:07:14 -0400
  [1m[36mActiveRecord::SchemaMigration Load (24.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6, "categories"=>[1, 2, 3]}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
Unpermitted parameter: categories
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 16:07:14', '2018-08-15 16:07:14', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (70.0ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 106ms (Views: 0.7ms | ActiveRecord: 71.3ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:07:40 -0400
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6, "categories"=>[1, 2, 3]}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
Unpermitted parameter: categories
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 16:07:40', '2018-08-15 16:07:40', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 36ms (Views: 0.3ms | ActiveRecord: 30.3ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:08:16 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6, "category_id"=>[1, 2, 3]}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.1ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
Unpermitted parameter: category_id
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 16:08:16', '2018-08-15 16:08:16', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (60.9ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 96ms (Views: 0.4ms | ActiveRecord: 63.2ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:08:52 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6, "category_id"=>[1, 2, 3]}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
Unpermitted parameter: category_id
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 16:08:52', '2018-08-15 16:08:52', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (39.6ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 133ms (Views: 1.2ms | ActiveRecord: 69.5ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:09:18 -0400
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6, "category_id"=>[1, 2, 3]}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.7ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
Unpermitted parameter: category_id
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.6ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 16:09:18', '2018-08-15 16:09:18', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (74.3ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 91ms (Views: 0.9ms | ActiveRecord: 76.8ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:09:41 -0400
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6, "category_id"=>1}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:11:50 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 16:12:01', '2018-08-15 16:12:01', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 57ms (Views: 0.3ms | ActiveRecord: 24.2ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:13:03 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 16:13:03', '2018-08-15 16:13:03', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (71.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (55.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
Completed 400 Bad Request in 240ms (Views: 0.5ms | ActiveRecord: 132.1ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:15:09 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 16:15:09', '2018-08-15 16:15:09', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 10, '2018-08-15 16:15:10', '2018-08-15 16:15:10')[0m
  [1m[35mSQL (24.7ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 10, '2018-08-15 16:15:10', '2018-08-15 16:15:10')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 10, '2018-08-15 16:15:10', '2018-08-15 16:15:10')[0m
  [1m[35m (62.0ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 235ms (Views: 0.4ms | ActiveRecord: 139.0ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:15:24 -0400
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`) VALUES ('2018-08-15 16:15:24', '2018-08-15 16:15:24', 'Honey', 'SweetHoney', 210.54, 6)[0m
  [1m[35m (44.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 11, '2018-08-15 16:15:24', '2018-08-15 16:15:24')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 11, '2018-08-15 16:15:24', '2018-08-15 16:15:24')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 11, '2018-08-15 16:15:24', '2018-08-15 16:15:24')[0m
  [1m[35m (40.0ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 117ms (Views: 0.3ms | ActiveRecord: 89.1ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (7.7ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (38.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to AddColumnUserToProduct (20180815162251)
  [1m[35m (677.0ms)[0m  [1m[35mALTER TABLE `products` ADD `user_id` int[0m
  [1m[35m (341.5ms)[0m  [1m[35mCREATE  INDEX `index_products_on_user_id`  ON `products` (`user_id`) [0m
  [1m[35m (962.2ms)[0m  [1m[35mALTER TABLE `products` ADD CONSTRAINT `fk_rails_dee2631783`
FOREIGN KEY (`user_id`)
  REFERENCES `users` (`id`)
[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180815162251')[0m
  [1m[35m (103.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.1ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `categories_products`[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (6.0ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.8ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started POST "/products" for 127.0.0.1 at 2018-08-15 12:24:55 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (8.3ms)[0m  [1m[31mROLLBACK[0m
Completed 400 Bad Request in 93ms (Views: 0.4ms | ActiveRecord: 9.5ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:26:43 -0400
  [1m[36mActiveRecord::SchemaMigration Load (24.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.1ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
Completed 500 Internal Server Error in 80ms (ActiveRecord: 20.2ms)


  
NoMethodError (undefined method `[]=' for nil:NilClass):
  
app/controllers/products_controller.rb:62:in `product_params'
Started POST "/products" for 127.0.0.1 at 2018-08-15 12:28:46 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
Completed 500 Internal Server Error in 29ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `merge' for nil:NilClass):
  
app/controllers/products_controller.rb:62:in `product_params'
Started POST "/products" for 127.0.0.1 at 2018-08-15 12:29:16 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 400 Bad Request in 70ms (Views: 0.2ms | ActiveRecord: 23.6ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:29:53 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `merge' for nil:NilClass):
  
app/controllers/products_controller.rb:63:in `product_params'
Started POST "/products" for 127.0.0.1 at 2018-08-15 12:31:07 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 400 Bad Request in 31ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:31:25 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 400 Bad Request in 35ms (Views: 0.1ms | ActiveRecord: 1.2ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:32:40 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 400 Bad Request in 31ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:44:02 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCategory Load (60.5ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.6ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (101.0ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 16:44:03', '2018-08-15 16:44:03', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 12, '2018-08-15 16:44:03', '2018-08-15 16:44:03')[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 12, '2018-08-15 16:44:03', '2018-08-15 16:44:03')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 12, '2018-08-15 16:44:03', '2018-08-15 16:44:03')[0m
  [1m[35m (48.9ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 458ms (Views: 1.2ms | ActiveRecord: 255.5ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 12:58:19 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (520.1ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (26.4ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCategory Load (1.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (121.5ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 16:58:21', '2018-08-15 16:58:21', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 13, '2018-08-15 16:58:21', '2018-08-15 16:58:21')[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 13, '2018-08-15 16:58:21', '2018-08-15 16:58:21')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 13, '2018-08-15 16:58:21', '2018-08-15 16:58:21')[0m
  [1m[35m (116.5ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 1230ms (Views: 0.1ms | ActiveRecord: 787.9ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:07:04 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 27ms (ActiveRecord: 0.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=):
  
app/controllers/products_controller.rb:51:in `obtains_product'
Started POST "/products" for 127.0.0.1 at 2018-08-15 13:07:41 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 17:07:41', '2018-08-15 17:07:41', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 14, '2018-08-15 17:07:41', '2018-08-15 17:07:41')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 14, '2018-08-15 17:07:41', '2018-08-15 17:07:41')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 14, '2018-08-15 17:07:41', '2018-08-15 17:07:41')[0m
  [1m[35m (97.2ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 149ms (Views: 0.2ms | ActiveRecord: 99.5ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/products_controller.rb:15:in `rescue in create'
app/controllers/products_controller.rb:9:in `create'
Started POST "/products" for 127.0.0.1 at 2018-08-15 13:11:34 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 17:11:34', '2018-08-15 17:11:34', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 15, '2018-08-15 17:11:34', '2018-08-15 17:11:34')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 15, '2018-08-15 17:11:34', '2018-08-15 17:11:34')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 15, '2018-08-15 17:11:34', '2018-08-15 17:11:34')[0m
  [1m[35m (63.7ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 111ms (Views: 0.1ms | ActiveRecord: 65.8ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:12:23 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 17:12:23', '2018-08-15 17:12:23', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 16, '2018-08-15 17:12:23', '2018-08-15 17:12:23')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 16, '2018-08-15 17:12:23', '2018-08-15 17:12:23')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 16, '2018-08-15 17:12:23', '2018-08-15 17:12:23')[0m
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 74ms (Views: 0.1ms | ActiveRecord: 25.6ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:13:58 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (22.8ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 17:13:58', '2018-08-15 17:13:58', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 17, '2018-08-15 17:13:58', '2018-08-15 17:13:58')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 17, '2018-08-15 17:13:58', '2018-08-15 17:13:58')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 17, '2018-08-15 17:13:58', '2018-08-15 17:13:58')[0m
  [1m[35m (72.5ms)[0m  [1m[35mCOMMIT[0m
Completed 400 Bad Request in 184ms (Views: 41.9ms | ActiveRecord: 97.5ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:14:50 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
  
TypeError (no implicit conversion of Module into String):
  
app/models/product.rb:1:in `<top (required)>'
Started POST "/products" for 127.0.0.1 at 2018-08-15 13:15:09 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
  
TypeError (no implicit conversion of Module into String):
  
app/models/product.rb:1:in `<top (required)>'
Started POST "/products" for 127.0.0.1 at 2018-08-15 13:17:24 -0400
  [1m[36mActiveRecord::SchemaMigration Load (59.6ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (27.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (1.6ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (23.8ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 17:17:26', '2018-08-15 17:17:26', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 18, '2018-08-15 17:17:26', '2018-08-15 17:17:26')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 18, '2018-08-15 17:17:26', '2018-08-15 17:17:26')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 18, '2018-08-15 17:17:26', '2018-08-15 17:17:26')[0m
  [1m[35m (50.6ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 550ms (Views: 0.5ms | ActiveRecord: 270.8ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:18:04 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 17:18:14', '2018-08-15 17:18:14', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 19, '2018-08-15 17:18:14', '2018-08-15 17:18:14')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 19, '2018-08-15 17:18:14', '2018-08-15 17:18:14')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 19, '2018-08-15 17:18:14', '2018-08-15 17:18:14')[0m
  [1m[35m (211.2ms)[0m  [1m[35mCOMMIT[0m
Completed 201 Created in 277ms (Views: 1.0ms | ActiveRecord: 213.3ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:22:51 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (7.8ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 17:22:51', '2018-08-15 17:22:51', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 20, '2018-08-15 17:22:51', '2018-08-15 17:22:51')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 20, '2018-08-15 17:22:51', '2018-08-15 17:22:51')[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 20, '2018-08-15 17:22:51', '2018-08-15 17:22:51')[0m
  [1m[35m (80.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProductImage Load (21.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 20[0m
Completed 201 Created in 216ms (Views: 0.6ms | ActiveRecord: 155.2ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:35:37 -0400
  [1m[36mActiveRecord::SchemaMigration Load (6.7ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>8}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 8 LIMIT 1[0m
Completed 404 Not Found in 123ms (ActiveRecord: 38.8ms)


  
ActiveRecord::RecordNotFound (Couldn't find Shop with 'id'=8 [WHERE `shops`.`user_id` = ?]):
  
app/controllers/products_controller.rb:68:in `product_params'
Started POST "/products" for 127.0.0.1 at 2018-08-15 13:36:32 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>8}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.4ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`shop_id` = 8 ORDER BY `shops`.`id` ASC LIMIT 1[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.6ms)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'shops.shop_id' in 'where clause': SELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`shop_id` = 8 ORDER BY `shops`.`id` ASC LIMIT 1):
  
app/controllers/products_controller.rb:68:in `product_params'
Started POST "/products" for 127.0.0.1 at 2018-08-15 13:36:59 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>8}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 8 ORDER BY `shops`.`id` ASC LIMIT 1[0m
Filter chain halted as "product_params" rendered or redirected
Completed 401 Unauthorized in 19ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:37:09 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>8}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 8 ORDER BY `shops`.`id` ASC LIMIT 1[0m
Filter chain halted as "product_params" rendered or redirected
Completed 401 Unauthorized in 18ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:37:16 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>8}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 8 ORDER BY `shops`.`id` ASC LIMIT 1[0m
Filter chain halted as "product_params" rendered or redirected
Completed 401 Unauthorized in 25ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:43:23 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[36mCategory Load (12.2ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.6ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 17:43:23', '2018-08-15 17:43:23', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 21, '2018-08-15 17:43:23', '2018-08-15 17:43:23')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 21, '2018-08-15 17:43:23', '2018-08-15 17:43:23')[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 21, '2018-08-15 17:43:23', '2018-08-15 17:43:23')[0m
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProductImage Load (0.8ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 21[0m
Completed 201 Created in 249ms (Views: 0.9ms | ActiveRecord: 74.6ms)


Started POST "/products" for 127.0.0.1 at 2018-08-15 13:43:50 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#create as */*
  Parameters: {"product"=>{"name"=>"Honey", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}, "categories"=>[1, 2, 3]}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT `categories`.* FROM `categories` WHERE `categories`.`id` IN (1, 2, 3)[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `products` (`created_at`, `updated_at`, `name`, `description`, `price`, `shop_id`, `user_id`) VALUES ('2018-08-15 17:43:50', '2018-08-15 17:43:50', 'Honey', 'SweetHoney', 210.54, 6, 1)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (1, 22, '2018-08-15 17:43:50', '2018-08-15 17:43:50')[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (2, 22, '2018-08-15 17:43:50', '2018-08-15 17:43:50')[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `categories_products` (`category_id`, `product_id`, `created_at`, `updated_at`) VALUES (3, 22, '2018-08-15 17:43:50', '2018-08-15 17:43:50')[0m
  [1m[35m (53.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 201 Created in 116ms (Views: 0.5ms | ActiveRecord: 56.1ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:44:01 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007f2bc807f378 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-3244-1g42afl.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.4ms)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/products_controller.rb:68:in `product_params'
Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:44:31 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055f4a69a2f68 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-3244-75rkrl.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
Filter chain halted as "obtains_product" rendered or redirected
Completed 401 Unauthorized in 28ms (Views: 0.1ms | ActiveRecord: 1.8ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:45:18 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007f2bc8060e28 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-3244-186i83g.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Filter chain halted as "obtains_product" rendered or redirected
Completed 401 Unauthorized in 21ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:47:17 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007f2be4050ed0 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-3244-pt02zg.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Completed 400 Bad Request in 31ms (Views: 0.1ms | ActiveRecord: 1.2ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:49:31 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055f4a7947d10 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-3244-kgxcej.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Completed 400 Bad Request in 45ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:49:44 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007f2bc830a4a8 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-3244-y520qq.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Completed 400 Bad Request in 25ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:50:09 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055fa28bf3b28 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1np0407.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Completed 400 Bad Request in 51ms (Views: 0.1ms | ActiveRecord: 2.1ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:50:46 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007faf800f1608 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1p5pgd9.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Completed 400 Bad Request in 24ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:51:28 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055fa296a7808 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-t0yw1m.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Completed 400 Bad Request in 24ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:51:56 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055fa28c547c0 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1kvmjwr.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Completed 400 Bad Request in 28ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:52:19 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007faf803f31a8 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-14g01g1.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-4737-14g01g1.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-lwddmq.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-lwddmq.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg[0]' -auto-orient -resize "600x600>" '/tmp/60db94d6da46b03be05fb2cd3889c51420180815-4737-qyape3'
[paperclip] Trying to link /tmp/60db94d6da46b03be05fb2cd3889c51420180815-4737-qyape3 to /tmp/475fb48b13dec389b2180c8efb182bb720180815-4737-1ayklbj
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg[0]' -auto-orient -resize "300x300>" '/tmp/60db94d6da46b03be05fb2cd3889c51420180815-4737-obqcb8'
[paperclip] Trying to link /tmp/60db94d6da46b03be05fb2cd3889c51420180815-4737-obqcb8 to /tmp/62e66beb1a61c91862e301632ac0c6ae20180815-4737-714gq3
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1av4an8.jpg[0]' -auto-orient -resize "100x100>" '/tmp/60db94d6da46b03be05fb2cd3889c51420180815-4737-ejpda4'
[paperclip] Trying to link /tmp/60db94d6da46b03be05fb2cd3889c51420180815-4737-ejpda4 to /tmp/fe1cd0d40a91aaee26577f24ca7a240c20180815-4737-rrs2f8
Completed 400 Bad Request in 488ms (Views: 1.0ms | ActiveRecord: 0.5ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:53:09 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055fa2974bb88 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1ir5yyx.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Completed 500 Internal Server Error in 68ms (ActiveRecord: 0.4ms)


  
NameError (undefined local variable or method `e' for #<ProductsController:0x000055fa29781a08>):
  
app/controllers/products_controller.rb:63:in `obtains_product'
Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:53:38 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007faf80047068 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1g976ru.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Filter chain halted as "obtains_product" rendered or redirected
Completed 401 Unauthorized in 24ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:53:52 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007faf8c05e1d0 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-wr68vh.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Filter chain halted as "obtains_product" rendered or redirected
Completed 401 Unauthorized in 20ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:54:07 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007faf802b6768 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1dveh9k.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Filter chain halted as "obtains_product" rendered or redirected
Completed 401 Unauthorized in 20ms (Views: 0.1ms | ActiveRecord: 0.5ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:54:14 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055fa29b02fb0 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1le0d82.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Filter chain halted as "obtains_product" rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.6ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:54:18 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055fa294988f0 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1wgh6eu.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Filter chain halted as "obtains_product" rendered or redirected
Completed 401 Unauthorized in 27ms (Views: 0.1ms | ActiveRecord: 1.8ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:54:25 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055fa2972d5c0 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-nvac3z.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Filter chain halted as "obtains_product" rendered or redirected
Completed 401 Unauthorized in 34ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:54:50 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:5)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007faf8c032940 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1dxspzt.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-4737-1dxspzt.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1f36xqe.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1f36xqe.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg[0]' -auto-orient -resize "600x600>" '/tmp/484c0a834dd9c1dd18bc880314665d8f20180815-4737-bt120p'
[paperclip] Trying to link /tmp/484c0a834dd9c1dd18bc880314665d8f20180815-4737-bt120p to /tmp/72de817f6f7d482a9d5430031e132fc520180815-4737-f9sj33
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg[0]' -auto-orient -resize "300x300>" '/tmp/484c0a834dd9c1dd18bc880314665d8f20180815-4737-1tpql5a'
[paperclip] Trying to link /tmp/484c0a834dd9c1dd18bc880314665d8f20180815-4737-1tpql5a to /tmp/ec12a51070589640f464753899d4789b20180815-4737-526dpd
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg[0]' -auto-orient -resize "100x100>" '/tmp/484c0a834dd9c1dd18bc880314665d8f20180815-4737-17xlgl'
[paperclip] Trying to link /tmp/484c0a834dd9c1dd18bc880314665d8f20180815-4737-17xlgl to /tmp/3c4bbbad6d42bfde13c6fd7860d9464b20180815-4737-1atnh67
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1lx7cvg.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1jijhk.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1jijhk.jpg'
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `created_at`, `updated_at`, `picture_file_name`, `picture_content_type`, `picture_file_size`, `picture_updated_at`) VALUES (22, '2018-08-15 17:54:50', '2018-08-15 17:54:50', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-08-15 17:54:50')[0m
  [1m[35m (40.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.6ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.4ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 194ms (Views: 0.3ms | ActiveRecord: 44.3ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:55:38 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055fa298dc880 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-rdaw1m.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-4737-rdaw1m.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-y2gl3o.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-y2gl3o.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg[0]' -auto-orient -resize "600x600>" '/tmp/4035a2d66b115624faee1cf41723d32120180815-4737-1uc1h4y'
[paperclip] Trying to link /tmp/4035a2d66b115624faee1cf41723d32120180815-4737-1uc1h4y to /tmp/4041e0eee9ab968bf1e5405285be355b20180815-4737-ptthnj
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg[0]' -auto-orient -resize "300x300>" '/tmp/4035a2d66b115624faee1cf41723d32120180815-4737-1iakzsi'
[paperclip] Trying to link /tmp/4035a2d66b115624faee1cf41723d32120180815-4737-1iakzsi to /tmp/9e7801278e23182138ef456b1ae6b4ff20180815-4737-1y08m0i
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg[0]' -auto-orient -resize "100x100>" '/tmp/4035a2d66b115624faee1cf41723d32120180815-4737-j36knv'
[paperclip] Trying to link /tmp/4035a2d66b115624faee1cf41723d32120180815-4737-j36knv to /tmp/24f4e93ba067eabe9805c06a715fe88a20180815-4737-1v4tce3
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-rd3jvp.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-70qmub.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-70qmub.jpg'
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `created_at`, `updated_at`, `picture_file_name`, `picture_content_type`, `picture_file_size`, `picture_updated_at`) VALUES (22, '2018-08-15 17:55:38', '2018-08-15 17:55:38', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-08-15 17:55:38')[0m
  [1m[35m (98.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (24.5ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 201ms (Views: 0.5ms | ActiveRecord: 124.0ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 13:55:43 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055fa29044560 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-iw0bwn.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-4737-iw0bwn.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-fafdi3.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-fafdi3.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg[0]' -auto-orient -resize "600x600>" '/tmp/9fd7f7658986809bca1a543423c54a6320180815-4737-rx0k4w'
[paperclip] Trying to link /tmp/9fd7f7658986809bca1a543423c54a6320180815-4737-rx0k4w to /tmp/4727e14f60ac1d8a7ac8b0ac5957b47520180815-4737-1nqesvm
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg[0]' -auto-orient -resize "300x300>" '/tmp/9fd7f7658986809bca1a543423c54a6320180815-4737-15ww4jy'
[paperclip] Trying to link /tmp/9fd7f7658986809bca1a543423c54a6320180815-4737-15ww4jy to /tmp/3820baebe9ce901dc2f0ec5849167a8a20180815-4737-1kr66fx
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg[0]' -auto-orient -resize "100x100>" '/tmp/9fd7f7658986809bca1a543423c54a6320180815-4737-qs2l2f'
[paperclip] Trying to link /tmp/9fd7f7658986809bca1a543423c54a6320180815-4737-qs2l2f to /tmp/22c83d7a35685ff1fb49d1931217945020180815-4737-1lxctl0
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ms2p2l.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-bxm5u3.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-bxm5u3.jpg'
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `created_at`, `updated_at`, `picture_file_name`, `picture_content_type`, `picture_file_size`, `picture_updated_at`) VALUES (22, '2018-08-15 17:55:43', '2018-08-15 17:55:43', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-08-15 17:55:43')[0m
  [1m[35m (28.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 105ms (Views: 0.4ms | ActiveRecord: 29.7ms)


Started GET "/products/22" for 127.0.0.1 at 2018-08-15 14:00:38 -0400
  
ActionController::RoutingError (No route matches [GET] "/products/22"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/products/image" for 127.0.0.1 at 2018-08-15 14:00:51 -0400
  
ArgumentError (Before process_action callback "authenticate_request" has not been defined):
  
app/controllers/products_controller.rb:5:in `<class:ProductsController>'
app/controllers/products_controller.rb:4:in `<top (required)>'
Started POST "/products/image" for 127.0.0.1 at 2018-08-15 14:01:56 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007fafa406e158 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-4737-1w2g70n.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-4737-1w2g70n.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ituyrq.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ituyrq.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg[0]' -auto-orient -resize "600x600>" '/tmp/0285df61c388c5eea81584a02928fc4620180815-4737-1ckgdvd'
[paperclip] Trying to link /tmp/0285df61c388c5eea81584a02928fc4620180815-4737-1ckgdvd to /tmp/84706c1ccf1bf4fe9e41dfa743bbae5820180815-4737-16ynrqu
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg[0]' -auto-orient -resize "300x300>" '/tmp/0285df61c388c5eea81584a02928fc4620180815-4737-1stbjnm'
[paperclip] Trying to link /tmp/0285df61c388c5eea81584a02928fc4620180815-4737-1stbjnm to /tmp/a02b1043a2dde1a15528881696aaf3e720180815-4737-1qscuvg
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg[0]' -auto-orient -resize "100x100>" '/tmp/0285df61c388c5eea81584a02928fc4620180815-4737-3a7zfq'
[paperclip] Trying to link /tmp/0285df61c388c5eea81584a02928fc4620180815-4737-3a7zfq to /tmp/479f1860024d395e609ffc9c89417ba120180815-4737-1few4ya
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-ji42pr.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1on1a75.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-4737-1on1a75.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `created_at`, `updated_at`, `picture_file_name`, `picture_content_type`, `picture_file_size`, `picture_updated_at`) VALUES (22, '2018-08-15 18:01:56', '2018-08-15 18:01:56', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-08-15 18:01:56')[0m
  [1m[35m (105.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 272ms (Views: 0.4ms | ActiveRecord: 136.3ms)


Started GET "/products" for 127.0.0.1 at 2018-08-15 14:02:58 -0400
DEPRECATION WARNING: Omitting the route path is deprecated. Specify the path with a String or a Symbol instead. (called from block (2 levels) in <top (required)> at /home/hectorandac/RubymineProjects/honey-bits-backend/config/routes.rb:13)
  
ArgumentError (Missing :action key on routes definition, please check your routes.):
  
config/routes.rb:13:in `block (2 levels) in <top (required)>'
config/routes.rb:11:in `block in <top (required)>'
config/routes.rb:1:in `<top (required)>'
Started GET "/products/22" for 127.0.0.1 at 2018-08-15 14:03:17 -0400
  
ActionController::RoutingError (No route matches [GET] "/products/22"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/products" for 127.0.0.1 at 2018-08-15 14:03:23 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#show as */*
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = NULL LIMIT 1[0m
Completed 404 Not Found in 9ms (ActiveRecord: 1.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=):
  
app/controllers/products_controller.rb:31:in `show'
Started GET "/products?id=22" for 127.0.0.1 at 2018-08-15 14:04:23 -0400
Processing by ProductsController#show as */*
  Parameters: {"id"=>"22"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 45ms (Views: 0.1ms | ActiveRecord: 2.6ms)


Started GET "/products?id=22" for 127.0.0.1 at 2018-08-15 14:05:36 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#show as */*
  Parameters: {"id"=>"22"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 29ms (Views: 0.3ms | ActiveRecord: 1.5ms)


Started GET "/shops/products?id=6" for 127.0.0.1 at 2018-08-15 14:12:23 -0400
  
ActionController::RoutingError (No route matches [GET] "/shops/products"):
  
actionpack (5.0.7) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.7) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.7) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.7) lib/rails/rack/logger.rb:24:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.4) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.7) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.7) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.4) lib/rack/sendfile.rb:111:in `call'
railties (5.0.7) lib/rails/engine.rb:522:in `call'
puma (3.11.3) lib/puma/configuration.rb:225:in `call'
puma (3.11.3) lib/puma/server.rb:624:in `handle_request'
puma (3.11.3) lib/puma/server.rb:438:in `process_client'
puma (3.11.3) lib/puma/server.rb:302:in `block in run'
puma (3.11.3) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/shops/products?id=6" for 127.0.0.1 at 2018-08-15 14:12:36 -0400
Processing by ShopsController#show_products as */*
  Parameters: {"id"=>"6"}
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`shop_id` = 6[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 2[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 3[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 5[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 6[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 7[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 8[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 9[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 10[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 11[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 12[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 13[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 14[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 15[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 16[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 17[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 18[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 19[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 20[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 21[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 54ms (Views: 2.6ms | ActiveRecord: 4.9ms)


Started GET "/products?id=2" for 127.0.0.1 at 2018-08-15 14:16:53 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#show as */*
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 2 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 2[0m
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started GET "/products?id=22" for 127.0.0.1 at 2018-08-15 14:16:57 -0400
Processing by ProductsController#show as */*
  Parameters: {"id"=>"22"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 8ms (Views: 0.4ms | ActiveRecord: 1.2ms)


Started GET "/shops/products?id=6" for 127.0.0.1 at 2018-08-15 14:17:05 -0400
Processing by ShopsController#show_products as */*
  Parameters: {"id"=>"6"}
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT `products`.* FROM `products` WHERE `products`.`shop_id` = 6[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 1[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 2[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 3[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 4[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 5[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 6[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 7[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 8[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 9[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 10[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 11[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 12[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 13[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 14[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 15[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 16[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 17[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 18[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 19[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 20[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 21[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 32ms (Views: 2.7ms | ActiveRecord: 5.1ms)


Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:20:03 -0400
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 233", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (10.6ms)[0m  [1m[33mUPDATE `products` SET `name` = 'Honey 233', `updated_at` = '2018-08-15 18:20:03' WHERE `products`.`id` = 22[0m
  [1m[35m (37.3ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 77ms (ActiveRecord: 49.7ms)


  
NoMethodError (undefined method `simple_info' for true:TrueClass):
  
app/controllers/products_controller.rb:37:in `update'
Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:24:22 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 233", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.1ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 51ms (Views: 0.4ms | ActiveRecord: 3.5ms)


Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:24:38 -0400
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `products` SET `name` = 'Honey 23', `updated_at` = '2018-08-15 18:24:38' WHERE `products`.`id` = 22[0m
  [1m[35m (27.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 38ms (Views: 0.6ms | ActiveRecord: 28.9ms)


Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:24:57 -0400
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>5}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 5 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 5 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `products` SET `shop_id` = 5, `updated_at` = '2018-08-15 18:24:57' WHERE `products`.`id` = 22[0m
  [1m[35m (31.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 43ms (Views: 0.3ms | ActiveRecord: 33.2ms)


Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:25:11 -0400
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>7}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 7 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/products_controller.rb:39:in `rescue in update'
app/controllers/products_controller.rb:35:in `update'
Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:26:09 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>7}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 7 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 27ms (Views: 0.1ms | ActiveRecord: 3.1ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/products_controller.rb:39:in `rescue in update'
app/controllers/products_controller.rb:35:in `update'
Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:26:32 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>7}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 7 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 25ms (Views: 0.1ms | ActiveRecord: 1.1ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/products_controller.rb:39:in `rescue in update'
app/controllers/products_controller.rb:35:in `update'
Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:26:43 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>7}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 7 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 30ms (Views: 0.1ms | ActiveRecord: 1.0ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/products_controller.rb:39:in `rescue in update'
app/controllers/products_controller.rb:35:in `update'
Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:27:30 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>7}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 7 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 22ms (Views: 0.1ms | ActiveRecord: 0.7ms)


  
AbstractController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  
app/controllers/products_controller.rb:39:in `rescue in update'
app/controllers/products_controller.rb:35:in `update'
Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:28:44 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>7}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.2ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 7 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK[0m
Completed 401 Unauthorized in 22ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:30:38 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>7}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 7 ORDER BY `shops`.`id` ASC LIMIT 1[0m
Completed 401 Unauthorized in 22ms (Views: 0.1ms | ActiveRecord: 0.7ms)


Started PATCH "/products" for 127.0.0.1 at 2018-08-15 14:30:46 -0400
Processing by ProductsController#update as */*
  Parameters: {"product_id"=>22, "product"=>{"name"=>"Honey 23", "description"=>"SweetHoney", "price"=>210.54, "shop_id"=>6}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`user_id` = '1' AND `shops`.`id` = 6 ORDER BY `shops`.`id` ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE `products` SET `shop_id` = 6, `updated_at` = '2018-08-15 18:30:46' WHERE `products`.`id` = 22[0m
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
Completed 200 OK in 50ms (Views: 0.4ms | ActiveRecord: 26.4ms)


Started DELETE "/products?product_id=22" for 127.0.0.1 at 2018-08-15 14:36:27 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#destroy as */*
  Parameters: {"product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories_products` WHERE `categories_products`.`product_id` = 22[0m
  [1m[35m (42.6ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 80ms (ActiveRecord: 45.5ms)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Table 'honeybits_development.carts_products' doesn't exist: SHOW FULL FIELDS FROM `carts_products`):
  
app/controllers/products_controller.rb:45:in `destroy'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DATABASE() as db[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT GET_LOCK('1874476378424033580', 0);[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateCartsProducts (20180815184239)
  [1m[35m (273.5ms)[0m  [1m[35mCREATE TABLE `carts_products` (`id` int AUTO_INCREMENT PRIMARY KEY, `cart_id` int, `product_id` int, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL,  INDEX `index_carts_products_on_cart_id`  (`cart_id`),  INDEX `index_carts_products_on_product_id`  (`product_id`), CONSTRAINT `fk_rails_88556cecdc`
FOREIGN KEY (`cart_id`)
  REFERENCES `carts` (`id`)
, CONSTRAINT `fk_rails_17b1128943`
FOREIGN KEY (`product_id`)
  REFERENCES `products` (`id`)
) ENGINE=InnoDB[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO `schema_migrations` (`version`) VALUES ('20180815184239')[0m
  [1m[35m (29.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  `ar_internal_metadata`.* FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT RELEASE_LOCK('1874476378424033580')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `addresses`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'addresses'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `billings`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'billings'[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW CREATE TABLE `cart_products_relation_ships`[0m
  [1m[35m (0.6ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'cart_products_relation_ships'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.7ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'carts'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `carts_products`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `categories`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'categories'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `categories_products`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `follows`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'follows'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `product_images`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'product_images'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `products`[0m
  [1m[35m (0.4ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'products'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `roles`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'roles'[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `shops`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'shops'[0m
  [1m[35m (0.2ms)[0m  [1m[35mSHOW CREATE TABLE `shops_users`[0m
  [1m[35m (0.3ms)[0m  [1m[35mSHOW CREATE TABLE `users`[0m
  [1m[35m (0.5ms)[0m  [1m[35mSHOW TABLE STATUS LIKE 'users'[0m
Started DELETE "/products?product_id=22" for 127.0.0.1 at 2018-08-15 14:43:32 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#destroy as */*
  Parameters: {"product_id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories_products` WHERE `categories_products`.`product_id` = 22[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `carts_products` WHERE `carts_products`.`product_id` = 22[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 22[0m
  [1m[35m (23.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 138ms (ActiveRecord: 70.9ms)


  
ActiveRecord::StatementInvalid (Mysql2::Error: Cannot delete or update a parent row: a foreign key constraint fails (`honeybits_development`.`product_images`, CONSTRAINT `fk_rails_1c991d3be6` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`)): DELETE FROM `products` WHERE `products`.`id` = 22):
  
app/controllers/products_controller.rb:45:in `destroy'
Started DELETE "/products?product_id=22" for 127.0.0.1 at 2018-08-15 14:47:20 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#destroy as */*
  Parameters: {"product_id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 22[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 2[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 3[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 4[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM `categories_products` WHERE `categories_products`.`product_id` = 22[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `carts_products` WHERE `carts_products`.`product_id` = 22[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 22[0m
  [1m[35m (24.4ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/001/original/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/001/big/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/001/medium/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/001/thumb/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/002/original/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/002/big/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/002/medium/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/002/thumb/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/003/original/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/003/big/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/003/medium/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/003/thumb/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/004/original/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/004/big/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/004/medium/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/004/thumb/our-autumn-shop-front.jpg
Completed 500 Internal Server Error in 253ms (ActiveRecord: 78.1ms)


  
NameError (undefined local variable or method `deleted' for #<ProductsController:0x000055a4b8dbf0a8>):
  
app/controllers/products_controller.rb:46:in `destroy'
Started DELETE "/products?product_id=22" for 127.0.0.1 at 2018-08-15 14:48:12 -0400
DEPRECATION WARNING: Passing string to define callback is deprecated and will be removed in Rails 5.1 without replacement. (called from <class:ProductsController> at /home/hectorandac/RubymineProjects/honey-bits-backend/app/controllers/products_controller.rb:6)
Processing by ProductsController#destroy as */*
  Parameters: {"product_id"=>"22"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 22 LIMIT 1[0m
Completed 404 Not Found in 22ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=22):
  
app/controllers/products_controller.rb:57:in `obtains_product'
Started DELETE "/products?product_id=21" for 127.0.0.1 at 2018-08-15 14:48:36 -0400
Processing by ProductsController#destroy as */*
  Parameters: {"product_id"=>"21"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 21 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 21[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM `categories_products` WHERE `categories_products`.`product_id` = 21[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM `carts_products` WHERE `carts_products`.`product_id` = 21[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 21[0m
  [1m[35m (28.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 104ms (Views: 0.4ms | ActiveRecord: 78.3ms)


Started DELETE "/products?product_id=20" for 127.0.0.1 at 2018-08-15 14:49:01 -0400
Processing by ProductsController#destroy as */*
  Parameters: {"product_id"=>"20"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 20 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 20[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `categories_products` WHERE `categories_products`.`product_id` = 20[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `carts_products` WHERE `carts_products`.`product_id` = 20[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 20[0m
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 30.1ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 14:49:11 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007f1c741b5868 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-7598-tw0u5y.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 20 LIMIT 1[0m
Completed 404 Not Found in 2ms (ActiveRecord: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=20):
  
app/controllers/products_controller.rb:57:in `obtains_product'
Started POST "/products/image" for 127.0.0.1 at 2018-08-15 14:49:17 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007f1c8545acd8 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-7598-1ggvea2.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 19 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-7598-1ggvea2.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1djenyr.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1djenyr.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg[0]' -auto-orient -resize "600x600>" '/tmp/509a536f91e4c515b81a74cbe9d4e7d120180815-7598-3izinf'
[paperclip] Trying to link /tmp/509a536f91e4c515b81a74cbe9d4e7d120180815-7598-3izinf to /tmp/2154d7f389ff8dd467d0b3f3120ea9f120180815-7598-1c486t6
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg[0]' -auto-orient -resize "300x300>" '/tmp/509a536f91e4c515b81a74cbe9d4e7d120180815-7598-113kevf'
[paperclip] Trying to link /tmp/509a536f91e4c515b81a74cbe9d4e7d120180815-7598-113kevf to /tmp/eb792eff0758d900466092d7d047e5f020180815-7598-wlf2p9
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg[0]' -auto-orient -resize "100x100>" '/tmp/509a536f91e4c515b81a74cbe9d4e7d120180815-7598-cm49zv'
[paperclip] Trying to link /tmp/509a536f91e4c515b81a74cbe9d4e7d120180815-7598-cm49zv to /tmp/09cd1c0db6510b46016143ed7f1960ce20180815-7598-16cryua
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-mmh4sk.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1tqrugr.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1tqrugr.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `created_at`, `updated_at`, `picture_file_name`, `picture_content_type`, `picture_file_size`, `picture_updated_at`) VALUES (19, '2018-08-15 18:49:17', '2018-08-15 18:49:17', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-08-15 18:49:17')[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 19[0m
Completed 200 OK in 127ms (Views: 0.3ms | ActiveRecord: 33.8ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 14:49:18 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x00007f1c848cbf98 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-7598-6aqqno.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 19 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-7598-6aqqno.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-ylzaln.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-ylzaln.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg[0]' -auto-orient -resize "600x600>" '/tmp/f6deff4585bf23eb6028c96ab0d2913220180815-7598-fvsfks'
[paperclip] Trying to link /tmp/f6deff4585bf23eb6028c96ab0d2913220180815-7598-fvsfks to /tmp/de95b53dfc78084dcab0dc57d3f7df9720180815-7598-15njc1x
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg[0]' -auto-orient -resize "300x300>" '/tmp/f6deff4585bf23eb6028c96ab0d2913220180815-7598-idern5'
[paperclip] Trying to link /tmp/f6deff4585bf23eb6028c96ab0d2913220180815-7598-idern5 to /tmp/e337651dbe2983639bac29def3523b7920180815-7598-125qwwk
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg[0]' -auto-orient -resize "100x100>" '/tmp/f6deff4585bf23eb6028c96ab0d2913220180815-7598-akbiud'
[paperclip] Trying to link /tmp/f6deff4585bf23eb6028c96ab0d2913220180815-7598-akbiud to /tmp/ff5742eb9bd5e51a9d9266843d7d999620180815-7598-1d1xugn
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1v74wik.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1qfcnev.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1qfcnev.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `created_at`, `updated_at`, `picture_file_name`, `picture_content_type`, `picture_file_size`, `picture_updated_at`) VALUES (19, '2018-08-15 18:49:18', '2018-08-15 18:49:18', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-08-15 18:49:18')[0m
  [1m[35m (96.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (24.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 19[0m
Completed 200 OK in 197ms (Views: 0.3ms | ActiveRecord: 121.7ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 14:49:19 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055a4b9399938 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-7598-185rt7w.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 19 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-7598-185rt7w.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-swbpr0.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-swbpr0.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg[0]' -auto-orient -resize "600x600>" '/tmp/41023267ae58f1dc9eb543222b66f97220180815-7598-7ivptx'
[paperclip] Trying to link /tmp/41023267ae58f1dc9eb543222b66f97220180815-7598-7ivptx to /tmp/57687cb76527e34c8720c77abe75efea20180815-7598-y3bvsk
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg[0]' -auto-orient -resize "300x300>" '/tmp/41023267ae58f1dc9eb543222b66f97220180815-7598-1fi6fje'
[paperclip] Trying to link /tmp/41023267ae58f1dc9eb543222b66f97220180815-7598-1fi6fje to /tmp/999f1716a918f647ea736f24a604a39520180815-7598-17l1d49
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg[0]' -auto-orient -resize "100x100>" '/tmp/41023267ae58f1dc9eb543222b66f97220180815-7598-pjzm7v'
[paperclip] Trying to link /tmp/41023267ae58f1dc9eb543222b66f97220180815-7598-pjzm7v to /tmp/1346826450e1f96be127f39ddde4536020180815-7598-13e5byb
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-gbvd7h.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1l1em1o.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-1l1em1o.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `created_at`, `updated_at`, `picture_file_name`, `picture_content_type`, `picture_file_size`, `picture_updated_at`) VALUES (19, '2018-08-15 18:49:19', '2018-08-15 18:49:19', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-08-15 18:49:19')[0m
  [1m[35m (27.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 19[0m
Completed 200 OK in 186ms (Views: 0.3ms | ActiveRecord: 28.2ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 14:49:20 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055a4b8f8bdf0 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-7598-1fv4xgs.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 19 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-7598-1fv4xgs.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-ivafhe.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-ivafhe.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg[0]' -auto-orient -resize "600x600>" '/tmp/ef8c5bec5b463d11966d475c59bcd4d620180815-7598-1lmqs4u'
[paperclip] Trying to link /tmp/ef8c5bec5b463d11966d475c59bcd4d620180815-7598-1lmqs4u to /tmp/289f93dfe4ca2b5f56fdfa083515a10520180815-7598-1x5e4ak
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg[0]' -auto-orient -resize "300x300>" '/tmp/ef8c5bec5b463d11966d475c59bcd4d620180815-7598-ts3n2n'
[paperclip] Trying to link /tmp/ef8c5bec5b463d11966d475c59bcd4d620180815-7598-ts3n2n to /tmp/6b2df96be828b510af60e669937c797d20180815-7598-2xh6lx
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg[0]' -auto-orient -resize "100x100>" '/tmp/ef8c5bec5b463d11966d475c59bcd4d620180815-7598-1pbrkku'
[paperclip] Trying to link /tmp/ef8c5bec5b463d11966d475c59bcd4d620180815-7598-1pbrkku to /tmp/d811350e934d761d803c3b8e227eae4b20180815-7598-15mjhmb
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-wlr7nq.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-uofmjb.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-uofmjb.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `created_at`, `updated_at`, `picture_file_name`, `picture_content_type`, `picture_file_size`, `picture_updated_at`) VALUES (19, '2018-08-15 18:49:20', '2018-08-15 18:49:20', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-08-15 18:49:20')[0m
  [1m[35m (30.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.6ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.5ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 19[0m
Completed 200 OK in 113ms (Views: 1.0ms | ActiveRecord: 31.7ms)


Started POST "/products/image" for 127.0.0.1 at 2018-08-15 14:49:21 -0400
Processing by ProductsController#add_image as */*
  Parameters: {"image"=>#<ActionDispatch::Http::UploadedFile:0x000055a4b8729fb8 @tempfile=#<Tempfile:/tmp/RackMultipart20180815-7598-gah1pk.jpg>, @original_filename="our-autumn-shop-front.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"image\"; filename=\"our-autumn-shop-front.jpg\"\r\nContent-Type: image/jpeg\r\n">, "product_id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 19 LIMIT 1[0m
[paperclip] Trying to link /tmp/RackMultipart20180815-7598-gah1pk.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-xyyp5n.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-xyyp5n.jpg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg[0]' -auto-orient -resize "600x600>" '/tmp/f3026fb120cf5501a2c8ff9f119f15ed20180815-7598-5u6cwl'
[paperclip] Trying to link /tmp/f3026fb120cf5501a2c8ff9f119f15ed20180815-7598-5u6cwl to /tmp/74fb6117679a9302bb7c9a4120048dff20180815-7598-1uar16q
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg[0]' -auto-orient -resize "300x300>" '/tmp/f3026fb120cf5501a2c8ff9f119f15ed20180815-7598-1kksjnb'
[paperclip] Trying to link /tmp/f3026fb120cf5501a2c8ff9f119f15ed20180815-7598-1kksjnb to /tmp/3ccef107a7138eb369febbd9461f4e5720180815-7598-1oqub74
Command :: identify -format '%wx%h,%[exif:orientation]' '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg[0]' 2>/dev/null
Command :: identify -format %m '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg[0]'
Command :: convert '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg[0]' -auto-orient -resize "100x100>" '/tmp/f3026fb120cf5501a2c8ff9f119f15ed20180815-7598-pc2hvq'
[paperclip] Trying to link /tmp/f3026fb120cf5501a2c8ff9f119f15ed20180815-7598-pc2hvq to /tmp/fc83788a6debf7e0a32b69c73ae670be20180815-7598-1q19jqz
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[paperclip] Trying to link /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-iiwapt.jpg to /tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-9c6rcf.jpg
Command :: file -b --mime '/tmp/0a016389ed2a36fb8bb1fdd492f841b520180815-7598-9c6rcf.jpg'
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO `product_images` (`product_id`, `created_at`, `updated_at`, `picture_file_name`, `picture_content_type`, `picture_file_size`, `picture_updated_at`) VALUES (19, '2018-08-15 18:49:21', '2018-08-15 18:49:21', 'our-autumn-shop-front.jpg', 'image/jpeg', 42234, '2018-08-15 18:49:21')[0m
  [1m[35m (41.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShop Load (0.3ms)[0m  [1m[34mSELECT  `shops`.* FROM `shops` WHERE `shops`.`id` = 6 LIMIT 1[0m
  [1m[36mProductImage Load (0.3ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 19[0m
Completed 200 OK in 124ms (Views: 0.6ms | ActiveRecord: 43.2ms)


Started DELETE "/products?product_id=19" for 127.0.0.1 at 2018-08-15 14:49:44 -0400
Processing by ProductsController#destroy as */*
  Parameters: {"product_id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  `products`.* FROM `products` WHERE `products`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductImage Load (0.2ms)[0m  [1m[34mSELECT `product_images`.* FROM `product_images` WHERE `product_images`.`product_id` = 19[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 5[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 6[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 7[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 8[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `product_images` WHERE `product_images`.`id` = 9[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM `categories_products` WHERE `categories_products`.`product_id` = 19[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM `carts_products` WHERE `carts_products`.`product_id` = 19[0m
  [1m[35mSQL (39.5ms)[0m  [1m[31mDELETE FROM `products` WHERE `products`.`id` = 19[0m
  [1m[35m (24.5ms)[0m  [1m[35mCOMMIT[0m
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/005/original/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/005/big/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/005/medium/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/005/thumb/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/006/original/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/006/big/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/006/medium/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/006/thumb/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/007/original/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/007/big/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/007/medium/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/007/thumb/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/008/original/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/008/big/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/008/medium/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/008/thumb/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/009/original/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/009/big/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/009/medium/our-autumn-shop-front.jpg
[paperclip] deleting /home/hectorandac/RubymineProjects/honey-bits-backend/public/system/product_images/pictures/000/000/009/thumb/our-autumn-shop-front.jpg
Completed 200 OK in 95ms (Views: 0.6ms | ActiveRecord: 66.0ms)


